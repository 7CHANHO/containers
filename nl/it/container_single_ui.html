<!DOCTYPE html><html lang="it-it">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="UTF-8">
<meta name="dcterms.date" content="2017-11-10">
<meta name="dcterms.rights" content="© Copyright IBM Corp. 2014, 2017">

<meta name="description" content="Utilizza un singolo contenitore per eseguire test semplici quando distribuisci un'applicazione o un servizio o per i processi a breve termine che non richiedo l'alta disponibilità. Per utilizzare il tuo front-end di rete, puoi assegnare un indirizzo IP pubblico al contenitore.">
<meta name="keywords" content="singolo contenitore, dashboard, GUI, IBM Containers, contenitori, CLI, docker run, bx ic, run, aggiornamento, riga di comando, contenitore, collegamenti, collegamento, --link, indirizzo ip, pubblico, ip-bind, ip-request, ips, ip-unbind, rimozione, rilascio, docker rm, rm, eliminazione, esercitazione, introduzione, cli, install, plug-in, images, distribuzione, docker compose, distribuzione con più contenitori, applicazione con più contenitori, docker-compose.yml, scaling, bilanciamento del carico, nginx, carico di lavoro, yml, opzioni supportate, faq">
<meta name="geo.country" content="ZZ">
<script>
    digitalData = {
      page: {
        pageInfo: {
  language: "it-it",

  version: "v18",
  ibm: {
  country: "ZZ",
  type: "CT701"
  
         }
       }
     }
   };
  </script><link rel="stylesheet" type="text/css" href="./ibmdita.css">
<title>Esecuzione di attività a breve termine come singoli contenitori in IBM Bluemix Container Service</title>
</head>
<body><main role="main"><div><article class="nested0" role="article" aria-labelledby="d75716e6" id="container_single_ui"><h1 class="topictitle1" id="d75716e6">Esecuzione di attività a breve termine come singoli contenitori</h1>
<div class="abstract"><div class="shortdesc"><span class="ph">Utilizza
un singolo contenitore per eseguire test semplici quando distribuisci un'applicazione o
un servizio o per i processi a breve termine che non richiedo l'alta disponibilità. Per utilizzare il tuo front-end di rete, puoi assegnare un indirizzo IP pubblico al
contenitore.</span></div>


<div class="p"><div class="note attention"><span class="attentiontitle">Attenzione:</span> <span class="ph">Le versioni di prova gratuita per <span class="ph">contenitori singoli o scalabili</span>
non sono disponibili. <a href="cs_ov.html" title="IBM Bluemix Container Service combina Docker e Kubernetes per offrire strumenti potenti, un'esperienza utente intuitiva e la sicurezza e l'isolamento integrati per automatizzare la distribuzione, l'operatività, il ridimensionamento e il monitoraggio delle applicazioni inserite in un contenitore in un cluster di host di calcolo indipendenti utilizzando le API Kubernetes.">Informazioni sulla gestione e migrazione dei
cluster a Kubernetes in <span class="keyword">IBM®
Bluemix Container Service</span> su <span class="keyword">Bluemix</span> pubblico.</a></span></div>
</div>


<div class="p">In questa pagina:<div class="lines">&nbsp;&nbsp;&nbsp;&nbsp; • Esecuzione di attività a breve termine come singoli contenitori dalla <a href="container_single_ui.html#gui" title="Crea e distribuisci contenitori dalla GUI Bluemix.">GUI</a> o dalla <a href="container_single_ui.html#container_single_cli" title="Crea un contenitore utilizzando il comando run. Un contenitore deve includere un'immagine. Se non ne hai ancora, puoi utilizzare una delle immagini predefinite certificate da IBM disponibili nel registro delle immagini privato della tua organizzazione.">CLI</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; • <a href="container_single_ui.html#container_single_updating" title="Per aggiornare un'applicazione, devi distribuire un nuovo contenitore. Se distribuisci una nuova immagine, il contenitore non verrà riavviato automaticamente.">Aggiornamento di contenitori</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; • <a href="container_single_ui.html#container_linking" title="Quando un contenitore è collegato a un altro contenitore nello stesso spazio, IBM Bluemix Container Service crea una voce host sul contenitore destinatario per il contenitore di origine. Puoi utilizzare un alias per fare riferimento al contenitore di origine, invece di uno specifico indirizzo IP che potrebbe cambiare di frequente.">Collegamento di contenitori</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; • <a href="container_single_ui.html#container_cli_ips" title="Richiesta e associazione di un indirizzo IP pubblico a un contenitore in Bluemix.">Richiesta e associazione di indirizzi IP</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; • <a href="container_single_ui.html#container_single_remove" title="Per massimizzare l'uso della tua quota, di tanto in tanto rimuovi i contenitori inutilizzati.">Rimozione di singoli contenitori</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; • Esercitazione: <a href="container_single_ui.html#container_gettingstarted_tutorial" title="IBM Bluemix ti consente di eseguire contenitori Docker nel cloud pubblico. Utilizza i contenitori per distribuire applicazioni web sicure e complete che vengono eseguite indipendentemente dal sistema operativo host. I contenitori sono leggeri e non richiedono molte risorse di sistema poiché utilizzano lo stesso kernel di sistema e, pertanto, possono essere eseguiti in modo più efficiente rispetto a una macchina virtuale. Questa esercitazione illustra come creare un'applicazione web di messaggistica utilizzando i contenitori Docker in Bluemix. Durante la procedura, scriverai un Dockerfile, aggiungerai immagini Docker al tuo registro delle immagini Bluemix privato e collegherai tra di loro i contenitori.">Creazione di un'applicazione web contenitore singolo</a><br>
&nbsp;&nbsp;&nbsp;&nbsp; • Esercitazione: <a href="container_single_ui.html#container_compose_intro" title="Se hai delle applicazioni con più componenti, come database, servizi e cache, organizzare tutti i contenitori in modo che vengano avviati e arrestati contemporaneamente può essere complicato. In questa esercitazione, imparerai come fare a distribuire ed eseguire la tua applicazione come una distribuzione con più contenitori in un'architettura di microservizi utilizzando un singolo comando Docker Compose. Ogni contenitore che fa parte di questo sistema è basato su una definizione di servizio Docker Compose e viene eseguito in un suo ambiente isolato.">Creazione di una distribuzione con più contenitori</a></div>
</div>
</div>
<aside role="complementary" aria-labelledby="d75716e6"></aside><article class="topic task nested1" role="article" aria-labelledby="d75716e173" id="gui"><h2 class="topictitle2" id="d75716e173">Esecuzione di attività a breve termine come i singoli contenitori dalla GUI <span class="keyword">Bluemix</span></h2>
<div class="body taskbody"><p class="shortdesc">Crea e distribuisci contenitori dalla GUI <span class="keyword">Bluemix</span>. </p>
<div class="section prereq" id="gui__prereq_oh5_421_4z"><div class="p">Prima di iniziare, esamina le seguenti informazioni. <ul id="gui__ul_ph5_421_4z"><li id="gui__role">Devi disporre di un ruolo Sviluppatore per lo spazio <span class="keyword">Bluemix</span> per creare
un contenitore al suo interno. Per
ulteriori informazioni sulle autorizzazioni di ciascun ruolo e su come modificare ruoli, vedi <span class="ph"><a href="../iam/users_roles.html">Utenti e
ruoli</a></span>.</li>
<li id="gui__add_image">Dalla GUI <span class="keyword">Bluemix</span>,
crei un contenitore dalle immagini pubbliche fornite da IBM oppure da un'immagine esistente nel registro <span class="keyword">Bluemix</span>
privato della tua organizzazione. Per ulteriori
informazioni sull'aggiunta di un'immagine al tuo <span class="keyword wintitle">catalogo</span>, consulta <a href="container_images_adding_ov.html#container_images_adding_ov" title="Un'immagine del contenitore è la base per ogni contenitore che crei. Viene creata un'immagine da un Dockerfile, che è un file che contiene le istruzioni per creare l'immagine e le risorse utente, come un'applicazione, la configurazione dell'applicazione e le relative dipendenze. Pensa all'immagine del contenitore come a un file eseguibile (.exe o .bin). Appena avrai eseguito il file dell'applicazione, avrai creato un'istanza della tua applicazione. Quando esegui un contenitore, crei un'istanza del contenitore dall'immagine.">Aggiunta di immagini Docker al registro delle immagini Bluemix privato della tua organizzazione</a>.</li>
<li id="gui__existing_ip">Controlla se è disponibile un indirizzo IP esistente per lo spazio che puoi utilizzare invece di crearne
uno nuovo. Per ulteriori informazioni, vedi <a href="container_single_ui.html#container_cli_ips_list" title="Per rendere i singoli contenitori accessibili da internet, devi eseguire il bind di un indirizzo IP pubblico ad essi. Prima di richiedere un indirizzo IP, esamina l'elenco di indirizzi IP pubblici già assegnati alla tua organizzazione e controlla se uno di tali indirizzi IP esistenti è disponibile.">Ricerca degli indirizzi IP pubblici esistenti con la CLI (command line interface)</a>.</li>
<li id="gui__bind_service">Se vuoi eseguire il bind di un servizio
<span class="keyword">Bluemix</span> al contenitore,
aggiungi il servizio <span class="keyword">Bluemix</span> al tuo spazio. Per ulteriori informazioni, vedi <a href="container_integrations.html#container_integrations_binding" title="IBM Bluemix ha un elenco di servizi e li gestisce per conto degli sviluppatori dell'applicazione. Per aggiungere un servizio Bluemix che possa essere utilizzato dal tuo contenitore, devi richiedere un'istanza di tale servizio ed eseguire il bind del servizio al contenitore.">Esecuzione del bind di un servizio dalla GUI Bluemix</a>.</li>
<li>Se intendi utilizzare un disco condiviso che consente di rendere i file accessibili dall'interno di
un contenitore, crea un volume prima di creare il contenitore. Per ulteriori informazioni, vedi <a href="container_volumes_ov.html#container_volumes_cli" title="Un volume è un'ubicazione di archiviazione persistente per i dati creati da un'applicazione o per i file che l'applicazione richiede di eseguire. Puoi creare un volume per il tuo contenitore dalla riga di comando.">Creazione di volumi con la riga di comando (CLI)</a>.</li>
</ul>
</div>
</div><p class="li stepsection">Per creare e distribuire un contenitore con un immagine:</p><ol class="steps" id="gui__steps_qh5_421_4z"><li class="step stepexpand" id="gui__start"><span class="cmd"><span class="ph" data-hd-otherprops="registry_check">Dal catalogo, seleziona
<span class="ph uicontrol">Contenitori</span> e scegli un'immagine.</span></span> Vengono visualizzate sia le immagini fornite da IBM e immagini memorizzate nel
tuo registro <span class="keyword">Bluemix</span> privato. </li>
<li class="step stepexpand" id="gui__namespace"><span class="cmd">Se uno spazio dei nomi è già impostato per la tua organizzazione, non ti viene richiesto di crearne uno e puoi
continuare con il passo successivo. </span> Se ancora
non è stato specificato uno spazio dei nomi per la tua organizzazione, ti verrà richiesto di configurarne uno
per il registro delle immagini.  Uno spazio dei nomi è un nome univoco per identificare il tuo registro privato in <span class="keyword">Bluemix</span>. Lo spazio dei nomi viene assegnato una sola volta
per un'organizzazione e non può essere modificato dopo la sua creazione. Se desideri utilizzare
<span class="keyword">IBM
Bluemix Container Service</span> in più regioni <span class="keyword">Bluemix</span>,
devi configurare uno spazio di nomi per ogni regione. 
<div class="note tip" id="gui__namespace_naming"><span class="tiptitle">Suggerimento:</span> Osserva le seguenti regole per lo spazio dei nomi:
<ul id="gui__ul_rh5_421_4z"><li>Può contenere solo lettere minuscole, numeri o caratteri di sottolineatura (_).</li>
<li>Può contenere tra 4 e 30 caratteri. Se intendi gestire i contenitori dalla riga di comando,
è preferibile utilizzare uno spazio dei nomi breve che possa essere digitato rapidamente.</li>
<li>Il suo nome deve essere univoco in <span class="keyword">Bluemix</span>.</li>
</ul>
</div>
</li>
<li class="step stepexpand"><span class="cmd">Successivamente, inizia a definire il tuo contenitore.</span> La finestra si apre sulla scheda del contenitore <span class="ph uicontrol">Singolo</span> per impostazione predefinita.</li>
<li class="step stepexpand" id="gui__tag">Opzionale: <span class="cmd">Sotto il nome immagine, seleziona la tag o la versione dell'immagine da utilizzare.</span></li>
<li class="step stepexpand" id="gui__space"><span class="cmd">Seleziona uno degli spazi <span class="keyword">Bluemix</span>
nella tua organizzazione.</span></li>
<li class="step stepexpand"><span class="cmd">Nel campo <span class="ph uicontrol">Nome contenitore</span>, immetti il nome per il contenitore.</span> <div class="note tip"><span class="tiptitle">Suggerimento:</span> Il nome contenitore
deve iniziare con una lettera e puoi quindi includere lettere maiuscole e minuscole, numeri,
punti (.),  caratteri di sottolineatura (_) o trattini (-).</div>
</li>
<li class="step stepexpand" id="gui__size"><span class="cmd">Nel campo <span class="ph uicontrol">Dimensione</span>, seleziona una dimensione del contenitore.</span> La dimensione predefinita è <span class="ph uicontrol" data-hd-audience="yellow">Micro (256 MB di memoria, 16 GB di
archiviazione)</span>. La dimensione che scegli
influisce sulla quantità di memoria e spazio su disco di un contenitore
nell'host di calcolo durante il runtime e non può essere modificata dopo la creazione del contenitore. Altre dimensioni disponibili sono
<ul data-hd-audience="yellow" id="gui__ul_sh5_421_4z"><li>Pico (64 MB di memoria, 4 GB di spazio su disco)</li>
<li>Nano (128 MB di memoria, 8 GB di spazio su disco)</li>
<li>Tiny (512 MB di memoria, 32 GB di spazio su disco)</li>
<li>Small (1 GB di memoria, 64 GB di spazio su disco)</li>
<li>Medium (2 GB di memoria, 128 GB di spazio su disco)</li>
<li>Large (4 GB di memoria, 256 GB di spazio su disco)</li>
<li>X-Large (8 GB di memoria, 512 GB di spazio su disco)</li>
<li>2X-Large (16 GB di memoria, 1 TB di spazio su disco)</li>
</ul>

</li>
<li class="step stepexpand"><span class="cmd">Nel campo <span class="ph uicontrol">Indirizzo IP pubblico</span>,
scegli se richiedere e assegnare un nuovo indirizzo IP pubblico. </span> Gli indirizzi IP pubblici consentono una connessione pubblica con il contenitore. Un'istanza in cui potresti non volere
un indirizzo IP pubblico è quando stai utilizzando un database che è visibile all'applicazione dell'utente solo all'interno
della rete privata.
<div class="steps note"><span class="notetitle">Nota:</span> Il bind a un indirizzo IP pubblico
non include un certificato SSL che codifica i dati inviati al e dal tuo contenitore singolo. Se la tua applicazione richiede la codifica SSL, puoi anche implementare la tua propria soluzione SSL
o utilizzare un gruppo di contenitori invece di un contenitore singolo. I gruppi di contenitori sono associati a una rotta pubblica che già include
un certificato SSL, per cui puoi accedere al tuo gruppo di contenitori con HTTPS
senza alcuna ulteriore configurazione.
Per ulteriori informazioni, consulta
<a href="container_ha.html#container_group_ui" title="Crea e distribuisci il contenitore di gruppi scalabili dalla GUI Bluemix. Un gruppo di contenitori include due o più contenitori che eseguono la stessa immagine. Utilizza i gruppi di contenitori per l'esecuzione dei servizi a lungo termine con i carichi di lavoro che richiedono scalabilità e affidabilità o per la verifica alla scala richiesta.">Creazione di un gruppo di contenitori con la GUI Bluemix</a>.</div>

<p>Se hai un indirizzo IP che
puoi utilizzare, seleziona <span class="ph uicontrol">Lascia non assegnato</span> ed eseguine il bind al contenitore dopo che quest'ultimo è stato creato.</p>
</li>
<li class="step stepexpand"><span class="cmd">Nel campo <span class="ph uicontrol">Porte pubbliche</span>, specifica le porte pubbliche da pubblicare. </span> Il
campo è precompilato con le porte che erano state specificate nel Dockerfile per l'immagine
quando quest'ultima è stata creata. Quando specifichi una porta pubblica, puoi scegliere tra UDP e TCP
per indicare il protocollo IP che vuoi utilizzare. Se non specifichi un protocollo, la tua porta viene automaticamente
esposta per il traffico TCP. Quando esponi una porta pubblica,
crei un gruppo di sicurezza di rete pubblico per il tuo contenitore che ti consente di inviare
e ricevere dati pubblici solo nella porta esposta. Tutte le altre porte pubbliche sono chiuse
e non possono essere utilizzate per accedere alla tua applicazione da internet. Puoi includere più porte separando ciascuna di esse con una virgola (,). <div class="p" id="gui__ports_p">Se è specificata una porta nel Dockerfile per l'immagine che stai
utilizzando, includi tale porta.<div class="note tip"><span class="tiptitle">Suggerimento:</span> <ul id="gui__ul_uh5_421_4z"><li>Per l'immagine Liberty Server certificata da IBM o una versione
modificata di questa immagine, immetti la porta <kbd class="ph userinput">9080</kbd>.</li>
<li>Per l'immagine Node.js certificata da IBM o una versione modificata
di questa immagine, immetti una porta qualsiasi, quale ad esempio la porta <kbd class="ph userinput">8000</kbd>.</li>
</ul>
</div>
</div>
</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Se vuoi aggiungere un volume, aggiungere delle variabili di ambiente o eseguire il bind di un servizio
<span class="keyword">Bluemix</span>espandi <span class="ph uicontrol">Opzioni avanzate</span>.</span></li>
<li class="step stepexpand" id="gui__volume">Opzionale: <span class="cmd">Definisci i dati o l'archiviazione file. Associa un volume esistente a
un contenitore o un gruppo di contenitori.</span> Un volume è
un disco condiviso che consente l'accesso ai file da un contenitore. Il percorso nel contenitore indica dove è stato caricato il volume
nel file system del contenitore. 
<div class="note restriction"><span class="restrictiontitle">Limitazione:</span> Puoi eliminare volumi dallo spazio <span class="keyword">Bluemix</span>
utilizzando solo la riga di comando.</div>
<ol type="a" class="ol substeps" id="gui__substeps_vh5_421_4z"><li class="li substep"><span class="cmd">Fai clic su <span class="ph uicontrol">Assegna un volume esistente</span>.</span></li>
<li class="li substep"><span class="cmd">Seleziona il volume dall'elenco a discesa.</span></li>
<li class="li substep"><span class="cmd">Nel campo successivo, specifica un percorso sul contenitore per associare il volume. </span> Ad esempio, <span class="ph filepath">/var/lib/mio_volume</span></li>
<li class="li substep"><span class="cmd">Per specificare che un volume è di sola lettura, seleziona
<span class="ph uicontrol">Sola lettura</span>.</span> Per impostazione predefinita, i volumi sono disponibili in lettura/scrittura.</li>
<li class="li substep"><span class="cmd">Per aggiungere più volumi, fai clic su <span class="ph uicontrol">Assegna un volume esistente</span> e ripeti questa
procedura.</span></li>
</ol>
</li>
<li class="step stepexpand" id="gui__env_var">Opzionale: <span class="cmd">Definisci le variabili di ambiente. </span> <ol type="a" class="ol substeps" id="gui__substeps_wh5_421_4z"><li class="li substep substepexpand"><span class="cmd">Fai clic su <span class="ph uicontrol">Aggiungi una nuova variabile di ambiente</span>.</span></li>
<li class="li substep substepexpand"><span class="cmd">Immetti un nome per la variabile di ambiente.</span></li>
<li class="li substep substepexpand"><span class="cmd">Nel campo successivo, specifica un valore per la variabile di ambiente.</span></li>
<li class="li substep substepexpand"><span class="cmd">Per aggiungere più variabili di ambiente, fai clic su <span class="ph uicontrol">Aggiungi una nuova variabile di ambiente</span> e ripeti questi passi.</span> <div class="tablenoborder"><table summary="" id="gui__env_keys_group" class="defaultstyle"><caption><span class="tablecap">Tabella 1. Variabili di ambiente suggerite</span></caption><thead><tr><th id="d75716e518" class="thleft">Variabile di ambiente</th>
<th id="d75716e520" class="thleft">Descrizione</th>
</tr>
</thead>
<tbody><tr><td headers="d75716e518 "><div class="lines"><samp class="ph codeph">CCS_BIND_APP=</samp><br>
<samp class="ph codeph"><var class="keyword varname">&lt;nomeapplicazione&gt;</var></samp></div>
</td>
<td headers="d75716e520 ">Alcuni servizi <span class="keyword">Bluemix</span> non supportano l'esecuzione del bind direttamente
in un contenitore. In questo caso, è necessario creare un'applicazione Cloud Foundry ed eseguire il bind del servizio
<span class="keyword">Bluemix</span> ad esso. Quindi, puoi
eseguire il bind dell'applicazione al tuo contenitore utilizzando <samp class="ph codeph">CCS_BIND_APP</samp>. L'applicazione Cloud Foundry funge
da ponte e consente a <span class="keyword">Bluemix</span> di inserire
le informazioni VCAP_SERVICES dell'applicazione ponte nell'istanza del contenitore in esecuzione. </td>
</tr>
<tr><td headers="d75716e518 "><div class="lines"><samp class="ph codeph">CCS_BIND_SRV=</samp><br>
<samp class="ph codeph"><var class="keyword varname">&lt;nome_istanza_servizio1&gt;,</var></samp><br>
<samp class="ph codeph"><var class="keyword varname">&lt;nome_istanza_servizio2&gt;</var></samp></div>

<div class="steps note"><span class="notetitle">Nota:</span>  Quando un servizio non supporta l'utilizzo della variabile di ambiente <samp class="ph codeph">CCS_BIND_SRV=</samp>,
utilizza <samp class="ph codeph">CCS_BIND_APP=</samp>.</div>
</td>
<td headers="d75716e520 ">Per eseguire direttamente il bind di un servizio <span class="keyword">Bluemix</span>
a un contenitore senza utilizzare un'applicazione ponte, utilizza <samp class="ph codeph">CCS_BIND_SRV</samp>. Questo bind consente a <span class="keyword">Bluemix</span> di passare le informazioni VCAP_SERVICES
nell'istanza del contenitore in esecuzione. Per elencare più servizi <span class="keyword">Bluemix</span>, includili come parte della stessa variabile
di ambiente.</td>
</tr>
<tr><td headers="d75716e518 "><div class="lines">(Obsoleto) <samp class="ph codeph">CCS_SSH_KEY=</samp><br>
<samp class="ph codeph"><var class="keyword varname">&lt;chiave_ssh_pubblica&gt; </var></samp></div>
</td>
<td headers="d75716e520 "><div class="note note" data-hd-status="deprecated"><span class="notetitle">Questa variabile di ambiente è obsoleta:</span> Utilizza invece <span class="ph"><samp class="ph codeph">bx ic</samp></span>
<samp class="ph codeph">exec</samp> o <span class="ph"><samp class="ph codeph">bx ic</samp></span>
<samp class="ph codeph">attach</samp> per l'accesso esterno al tuo contenitore. Per ulteriori informazioni, vedi <a href="container_security.html#container_cli_login_exec" title="Se devi accedere al tuo contenitore in esecuzione, puoi utilizzare bx ic exec.">Accesso a un contenitore con exec</a>.</div>
<span class="ph">Per aggiungere una chiave SSH a un contenitore durante la sua creazione, puoi utilizzare
<samp class="ph codeph">CCS_API_KEY</samp>.</span></td>
</tr>
<tr><td headers="d75716e518 "><div class="lines"><samp class="ph codeph">LOG_LOCATIONS=</samp><br>
<samp class="ph codeph"><var class="keyword varname">&lt;percorso_al_file&gt; </var></samp></div>
</td>
<td headers="d75716e520 "><span class="ph" id="gui__d42737e1434">Per aggiungere un file di log da monitorare nel contenitore, includi
la variabile di ambiente <samp class="ph codeph">LOG_LOCATIONS</samp> con un percorso al file di log.</span></td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
</li>
<li class="step stepexpand" id="gui__bind_service_step">Opzionale: <span class="cmd">Definisci gli altri servizi per l'applicazione. Esegui il bind di un servizio <span class="keyword">Bluemix</span> dal tuo spazio <span class="keyword">Bluemix</span>
al tuo contenitore. Nella sezione <span class="ph uicontrol">Binding del servizio</span>, seleziona un'istanza del servizio <span class="keyword">Bluemix</span> e fai clic su
<span class="ph uicontrol">Aggiungi</span> per eseguire il bind del servizio al tuo contenitore.</span> Se non sono stati ancora aggiunti servizi <span class="keyword">Bluemix</span>
allo spazio, nel menu non viene visualizzato alcun servizio.</li>
<li class="step stepexpand" id="gui__deploy"><span class="cmd">Distribuisci il contenitore e attendine il completamento. Fai clic su <span class="ph uicontrol">CREA</span>.</span> Come il contenitore è stato creato, che potrebbe richiedere alcuni minuti, il contenitore viene anche avviato
in <span class="keyword">Bluemix</span>. Cerca nella sezione
<span class="ph uicontrol">INTEGRITÀ CONTENITORE</span> lo stato del contenitore. Al termine della creazione,
lo stato è <span class="ph uicontrol">In esecuzione</span>.</li>
</ol>
<div class="section result" id="gui__result_xh5_421_4z"><p>Se hai selezionato <span class="ph uicontrol">Lascia non assegnato</span> per l'<span class="ph uicontrol">Indirizzo IP pubblico</span> perché hai un indirizzo IP esistente da utilizzare, esegui il bind dell'indirizzo IP al contenitore. Per ulteriori informazioni, vedi <a href="container_single_ui.html#container_cli_ips" title="Richiesta e associazione di un indirizzo IP pubblico a un contenitore in Bluemix.">Richiesta e associazione di indirizzi IP pubblici ai contenitori</a>.</p>

<div class="p" id="gui__wait">Se stai stabilendo una connessione a un'applicazione esterna dal contenitore, una volta eseguito, il processo del
contenitore può dover attendere fino a 5 minuti prima di potersi connettere all'indirizzo IP specificato.
Puoi quindi verificare il funzionamento dell'applicazione nel contenitore utilizzando una
delle seguenti opzioni: <ul id="gui__ul_yh5_421_4z"><li>Puoi aprire l'applicazione in un browser creando un URL con l'indirizzo IP pubblico e la porta.
<p>Esempio</p>
<span class="ph filepath">http://<var class="keyword varname">public_IP</var>:<var class="keyword varname">public_port</var></span>
<div class="steps note"><span class="notetitle">Nota:</span> Se nell'applicazione è presente un servizio che non espone un endpoint HTTP, questa opzione potrebbe non
visualizzare l'applicazione nel browser.</div>
</li>
<li>Dalla riga di comando Linux o UNIX, puoi eseguire <span class="ph filepath">nc -zv
<var class="keyword varname">&lt;public_IP&gt;</var>
<var class="keyword varname">&lt;public_port&gt;</var></span> per verificare che un
server sia in ascolto sulla porta specificata.</li>
</ul>
</div>
</div><div class="section postreq" id="gui__postreq_zh5_421_4z"><p>Quindi, se sei il gestore dell'organizzazione puoi visualizzare il tuo contenitore dell'organizzazione di fatturazione.</p>

<ol id="gui__ol_a35_421_4z"><li><span class="ph">Dai dettagli dell'account, nella gestione delle organizzazioni,
seleziona un'organizzazione.</span></li>
<li>Seleziona <span class="ph uicontrol">Dashboard di utilizzo</span> e rivedi i dettagli di utilizzo e fatturazione. </li>
</ol>
</div></div>
</article><article class="topic task nested1" role="article" aria-labelledby="d75716e753" lang="it-it" id="container_single_cli"><h2 class="topictitle2" id="d75716e753">Esecuzione di attività a breve termine come i contenitori singoli con la CLI (command line interface)</h2>
<div class="body taskbody"><p class="shortdesc">Crea un contenitore utilizzando il comando <samp class="ph codeph">run</samp>. Un contenitore deve includere
un'immagine. Se non ne hai ancora, puoi utilizzare una delle immagini predefinite certificate da IBM disponibili nel registro delle immagini privato
della tua organizzazione.</p>
<div class="section prereq"><div class="p" id="container_single_cli__prereq">Prima di iniziare, esamina la seguente procedura. <ul><li>Devi disporre di un ruolo Sviluppatore per lo spazio <span class="keyword">Bluemix</span> per creare
un contenitore al suo interno. Per
ulteriori informazioni sulle autorizzazioni di ciascun ruolo e su come modificare ruoli, vedi <span class="ph"><a href="../iam/users_roles.html">Utenti e
ruoli</a></span>.</li>
<li id="container_single_cli__identify_images">Identifica un'immagine esistente nel registro delle immagini privato della tua organizzazione
da utilizzare nel tuo contenitore eseguendo il comando <samp class="ph codeph"><span class="ph"><samp class="ph codeph">bx ic</samp></span> images</samp>. Per aggiungere un'immagine al tuo registro,
vedi <a href="container_images_adding_ov.html#container_images_adding_ov" title="Un'immagine del contenitore è la base per ogni contenitore che crei. Viene creata un'immagine da un Dockerfile, che è un file che contiene le istruzioni per creare l'immagine e le risorse utente, come un'applicazione, la configurazione dell'applicazione e le relative dipendenze. Pensa all'immagine del contenitore come a un file eseguibile (.exe o .bin). Appena avrai eseguito il file dell'applicazione, avrai creato un'istanza della tua applicazione. Quando esegui un contenitore, crei un'istanza del contenitore dall'immagine.">Aggiunta di immagini Docker al registro delle immagini Bluemix privato della tua organizzazione</a>.</li>
<li>Controlla se è disponibile un indirizzo IP esistente per lo spazio che puoi utilizzare invece di crearne
uno nuovo. Per ulteriori informazioni, vedi <a href="container_single_ui.html#container_cli_ips_list" title="Per rendere i singoli contenitori accessibili da internet, devi eseguire il bind di un indirizzo IP pubblico ad essi. Prima di richiedere un indirizzo IP, esamina l'elenco di indirizzi IP pubblici già assegnati alla tua organizzazione e controlla se uno di tali indirizzi IP esistenti è disponibile.">Ricerca degli indirizzi IP pubblici esistenti con la CLI (command line interface)</a>.</li>
<li>Se vuoi eseguire il bind di un servizio
<span class="keyword">Bluemix</span> al contenitore,
aggiungi il servizio <span class="keyword">Bluemix</span> al tuo spazio. Per ulteriori informazioni, vedi <a href="container_integrations.html#container_integrations_binding" title="IBM Bluemix ha un elenco di servizi e li gestisce per conto degli sviluppatori dell'applicazione. Per aggiungere un servizio Bluemix che possa essere utilizzato dal tuo contenitore, devi richiedere un'istanza di tale servizio ed eseguire il bind del servizio al contenitore.">Esecuzione del bind di un servizio dalla GUI Bluemix</a>.</li>
<li id="container_single_cli__create_shared_volume">Se desideri utilizzare un disco condiviso che renda accessibili i file da
più contenitori, crea un volume prima di creare il contenitore. Per ulteriori informazioni, vedi <a href="container_volumes_ov.html#container_volumes_cli" title="Un volume è un'ubicazione di archiviazione persistente per i dati creati da un'applicazione o per i file che l'applicazione richiede di eseguire. Puoi creare un volume per il tuo contenitore dalla riga di comando.">Creazione di volumi con la riga di comando (CLI)</a>.</li>
</ul>
</div>
</div><p class="li stepsection">Crea un contenitore.</p><ol class="steps"><li class="step stepexpand"><span class="cmd">Crea un contenitore con un'immagine e un indirizzo IP esistenti nel registro delle immagini privato della tua organizzazione.*</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> run -p <var class="keyword varname">&lt;ip-address&gt;</var>:<var class="keyword varname">&lt;port_on_IP&gt;</var>:<var class="keyword varname">&lt;public_port&gt;</var> -e <var class="keyword varname">&lt;env_variable&gt;</var> -m <var class="keyword varname">&lt;container_size&gt;</var> --name <var class="keyword varname">&lt;container_name&gt;</var> --volume <var class="keyword varname">&lt;volname:mount_path&gt;</var> registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;namespace&gt;</var>/<var class="keyword varname">&lt;image_name_or_id&gt;</var></code></pre>

<div class="steps note"><span class="notetitle">Nota:</span> <span class="ph" id="container_single_cli__d41694e178">*In questo comando, puoi sostituire <samp class="ph codeph"><span class="ph">bx ic</span></samp> con
<samp class="ph codeph">docker</samp> quando <a href="container_cli_cfic_install.html#container_cli_login" title="Dopo che hai installato la CLI, esegui l'accesso per utilizzarla.">accedi a
<span class="keyword">IBM
Bluemix Container Service</span></a> e imposti le tue variabili di ambiente
per utilizzare i comandi Docker nativi.</span><span class="ph" id="container_single_cli__d41694e190">In questo argomento puoi utilizzare i comandi Docker
nativi in tutte le fasi contrassegnate con un asterisco (*). </span></div>

<p>Esempio</p>

<div class="p">Il seguente esempio
crea un solo contenitore con questi dettagli.<ul><li>Nome: <var class="keyword varname">mio_contenitore</var></li>
<li>Dimensione: <var class="keyword varname">64 MB</var></li>
<li>Immagine: <var class="keyword varname">ibmliberty</var></li>
<li>Volume montato: <var class="keyword varname">myvol</var></li>
<li>Porta pubblica esposta: <var class="keyword varname">9080</var></li>
<li>Indirizzo IP di associazione: <var class="keyword varname">192.0.2.23</var></li>
<li>Ubicazione file di logo personalizzato: Standard Ubuntu log file. I log dalle ubicazioni del file di log personalizzate possono
essere visualizzati in Kibana dopo aver creato il contenitore.</li>
</ul>
</div>

<pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> run -p 192.0.2.23:9080:9080 -e <span class="q">"LOG_LOCATION=/var/log/dpkg.log"</span> -m 64 --name mio_contenitore --volume myvol:/var/tmp registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/ibmliberty </code></pre>

Quando viene creato, il contenitore viene anche avviato. Il contenitore viene distribuito quando viene visualizzato l'ID del contenitore.</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Elencare i tuoi contenitori in esecuzione.*</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span>ps</code></pre>
</li>
</ol>
<div class="section postreq"><div class="p">Se stai stabilendo una connessione a un'applicazione esterna dal contenitore, una volta eseguito, il processo del
contenitore può dover attendere fino a 5 minuti prima di potersi connettere all'indirizzo IP specificato.
Puoi quindi verificare il funzionamento dell'applicazione nel contenitore utilizzando una
delle seguenti opzioni: <ul id="container_single_cli__d41699e376"><li>Puoi aprire l'applicazione in un browser creando un URL con l'indirizzo IP pubblico e la porta.
<p>Esempio</p>
<span class="ph filepath">http://<var class="keyword varname">public_IP</var>:<var class="keyword varname">public_port</var></span>
<div class="steps note"><span class="notetitle">Nota:</span> Se nell'applicazione è presente un servizio che non espone un endpoint HTTP, questa opzione potrebbe non
visualizzare l'applicazione nel browser.</div>
</li>
<li>Dalla riga di comando Linux o UNIX, puoi eseguire <span class="ph filepath">nc -zv
<var class="keyword varname">&lt;public_IP&gt;</var>
<var class="keyword varname">&lt;public_port&gt;</var></span> per verificare che un
server sia in ascolto sulla porta specificata.</li>
</ul>
</div>

<p>Quindi, se sei il gestore dell'organizzazione puoi visualizzare il tuo contenitore dell'organizzazione di fatturazione.</p>

<div class="p"><ol><li>Fai clic sull'avatar utente.</li>
<li>Fai clic su <span class="ph uicontrol">Account</span>.</li>
<li>Espandi la tua organizzazione facendo clic sul pulsante <span class="ph uicontrol">+</span>.</li>
<li>Seleziona <span class="ph uicontrol">Dashboard di utilizzo</span> e rivedi i dettagli di utilizzo e fatturazione. </li>
</ol>
<span class="ph">Per ulteriori informazioni, vai a <span class="ph"><a href="../admin/account.html">Gestione del tuo
account</a></span>.</span></div>
</div></div>
<aside role="complementary" aria-labelledby="d75716e753"></aside></article><article class="topic task nested1" role="article" aria-labelledby="d75716e1075" lang="it-it" id="container_single_updating"><h2 class="topictitle2" id="d75716e1075">Aggiornamento delle attività a breve termine nei contenitori singoli con la CLI (command line interface)</h2>
<div class="body taskbody"><p class="shortdesc">Per aggiornare un'applicazione, devi distribuire un nuovo contenitore. Se distribuisci una nuova immagine, il
contenitore non verrà riavviato automaticamente.</p>
<div class="section context"><div class="tablenoborder"><table summary="" id="container_single_updating__updating_group_cli_table" class="defaultstyle"><caption><span class="tablecap">Tabella 2. Strumenti facoltativi per l'aggiornamento di un'applicazione</span></caption><thead><tr><th id="d75716e1140" class="thleft">Strumenti di aggiornamento</th>
<th id="d75716e1142" class="thleft">Descrizione</th>
</tr>
</thead>
<tbody><tr><td headers="d75716e1140 "><span class="keyword">Delivery Pipeline</span></td>
<td headers="d75716e1142 ">Automatizza le creazioni delle tue applicazioni e le distribuzioni dei contenitori a <span class="keyword">Bluemix</span> utilizzando <span class="keyword">Delivery Pipeline</span>, il quale è un servizio <span class="keyword">Bluemix</span> disponibile per te. Per ulteriori informazioni, vedi <a href="container_integrations.html#container_single_pipeline_ov" title="Automatizzazione della generazione e della distribuzione dei tuoi singoli contenitori con la Delivery Pipeline.">Creazione di un singolo contenitore utilizzando Delivery Pipeline</a>.</td>
</tr>
<tr><td headers="d75716e1140 ">UrbanCode Deploy</td>
<td headers="d75716e1142 ">Automatizza le creazioni delle tue applicazioni e le distribuzioni dei contenitori a <span class="keyword">Bluemix</span> utilizzando UrbanCode Deploy. Per
ulteriori informazioni sull'acquisto di UrbanCode Deploy, consulta la pagina del prodotto <a href="http://www.ibm.com/software/products/en/ucdep" rel="external" target="_blank" title="(Aprire in una nuova scheda o finestra)">IBM UrbanCode
Deploy</a>.</td>
</tr>
<tr><td headers="d75716e1140 ">Aggiorna l'applicazione utilizzando la CLI <span class="keyword">IBM
Bluemix Container Service</span></td>
<td headers="d75716e1142 ">Completa la seguente procedura in questa attività per aggiornare l'applicazione.</td>
</tr>
</tbody>
</table>
</div>
</div><p class="li stepsection">Per aggiornare un contenitore utilizzando la CLI <span class="keyword">IBM
Bluemix Container Service</span>:</p><ol class="steps"><li class="step stepexpand"><span class="cmd">Aggiorna l'applicazione localmente.</span></li>
<li class="step stepexpand"><span class="cmd">Scegli se creare la tua immagine direttamente in <span class="keyword">Bluemix</span> oppure se creare e testare la tua immagine
in locale prima di eseguirne il push a <span class="keyword">Bluemix</span>. </span> <ul><li>Per creare l'immagine direttamente in <span class="keyword">Bluemix</span>, esegui il seguente comando.*<div class="note tip"><span class="tiptitle">Suggerimento:</span> <span class="ph">Esegui <samp class="ph codeph"><span class="ph">bx ic</span> namespace-get</samp> per richiamare
il tuo spazio dei nomi e sostituisci <var class="keyword varname">&lt;mio_spazionomi&gt;</var> con le informazioni del tuo spazio dei nomi.</span></div>
<pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> build -t registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/<var class="keyword varname">&lt;image_name&gt;</var>:<var class="keyword varname">&lt;tag&gt;</var> <var class="keyword varname">&lt;dockerfile_location&gt;</var></code></pre>
Esempio<pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> build -t registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">mio_spazionomi</var>/<var class="keyword varname">mia_immagine</var>:<var class="keyword varname">v1</var> .</code></pre>
<div class="steps note"><span class="notetitle">Nota:</span> <span class="ph" id="container_single_updating__d43244e239">*In questo comando, puoi sostituire <samp class="ph codeph"><span class="ph">bx ic</span></samp> con
<samp class="ph codeph">docker</samp> quando <a href="container_cli_cfic_install.html#container_cli_login" title="Dopo che hai installato la CLI, esegui l'accesso per utilizzarla.">accedi a
<span class="keyword">IBM
Bluemix Container Service</span></a> e imposti le tue variabili di ambiente
per utilizzare i comandi Docker nativi.</span><span class="ph" id="container_single_updating__d43244e258">In questo argomento puoi utilizzare i comandi Docker
nativi in tutte le fasi contrassegnate con un asterisco (*). </span></div>
</li>
<li>Per creare l'immagine in locale e poi distribuirla a <span class="keyword">Bluemix</span>, attieniti alla seguente procedura.<div class="p"><ol type="a"><li>Se utilizzi il plug-in per <span class="keyword">IBM
Bluemix Container Service</span>, esegui nuovamente l'accesso. Non impostare le variabili di ambiente per l'opzione 2,
in modo che i comandi <samp class="ph codeph">docker</samp> vengano inviati al motore
Docker nella tua macchina locale.<div class="p"><pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> init</code></pre>
</div>
</li>
<li>Crea l'immagine in locale dal tuo Dockerfile.<div class="p"><pre class="codeblock"><code>docker build -t <var class="keyword varname">&lt;nome_immagine&gt;</var>:<var class="keyword varname">&lt;tag&gt;</var> <var class="keyword varname">&lt;posizione_dockerfile&gt;</var></code></pre>
</div>
<div class="p">Esempio<pre class="codeblock"><code>docker build -t <var class="keyword varname">mia_immagine_ibmliberty</var>:<var class="keyword varname">v1</var> .</code></pre>
</div>
</li>
<li>Esegui il contenitore dall'immagine per verificare che la tua nuova applicazione venga eseguita localmente utilizzando il seguente comando, dove
<var class="keyword varname">Porta</var> è la porta per il traffico
HTTP.<div class="p"><pre class="codeblock"><code>docker run -d --name <var class="keyword varname">&lt;container_name&gt;</var> <var class="keyword varname">&lt;image_name&gt;</var></code></pre>
</div>
<div class="p">Esempio<pre class="codeblock"><code>docker run -d --name <var class="keyword varname">mio_contenitore</var> <var class="keyword varname">my_ibmliberty_image</var></code></pre>
</div>
<p>Se
l'applicazione è in esecuzione in modo corretto, nell'output della CLI viene visualizzato l'ID del contenitore. Per esaminare i log per il contenitore, esegui
<samp class="ph codeph">docker logs
<var class="keyword varname">&lt;nome_o_id_contenitore&gt;</var>.</samp></p>
</li>
<li id="container_single_updating__d43244e339">Contrassegna con tag l'immagine locale con il tuo registro <span class="keyword">Bluemix</span> privato e un nuovo nome. <span class="ph">Utilizza caratteri alfanumerici minuscoli o di sottolineatura (_) solo nei nomi di immagine. Gli altri simboli, ad esempio trattini (-) o barre (/), potrebbero impedire la distribuzione dell'immagine nel
registro delle immagini.</span><div class="p"><pre class="codeblock"><code>docker tag <var class="keyword varname">&lt;current_image_name_or_ID&gt;</var>:<var class="keyword varname">&lt;optional_tag&gt;</var>  registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/<var class="keyword varname">&lt;new_image_name&gt;</var>:<var class="keyword varname">&lt;optional_tag&gt;</var> </code></pre>
</div>
<p>Esempio</p>
<div class="p"><pre class="codeblock"><code>docker tag <var class="keyword varname">mia_immagine_ibmliberty</var> registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/<var class="keyword varname">mia_immagine_ibmliberty</var></code></pre>
</div>
</li>
<li>Esegui il push dell'immagine nel tuo registro <span class="keyword">Bluemix</span> privato utilizzando il
seguente comando.<div class="p"><pre class="codeblock"><code>docker push registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/<var class="keyword varname">&lt;image_name&gt;</var></code></pre>
</div>
<div class="p">Esempio<pre class="codeblock"><code>docker push registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">mio_spazionomi</var>/<var class="keyword varname">mia_immagine_ibmliberty</var></code></pre>
</div>
</li>
</ol>
</div>
<div class="note important"><span class="importanttitle">Importante:</span> <span class="ph">Quando esegui il push di un'immagine al tuo registro <span class="keyword">Bluemix</span> privato,
la dimensione riportata per l'immagine è più piccola della dimensione della stessa immagine nel tuo motore Docker locale. Le differenza tra le dimensioni
non indica che si è verificato un problema quando è stato eseguito il push dell'immagine. La dimensione compressa dell'immagine
viene riportata in <span class="keyword">IBM
Bluemix Container Service</span>.</span></div>
</li>
</ul>
</li>
<li class="step stepexpand"><span class="cmd">Annulla il bind dell'indirizzo IP pubblico dal contenitore. </span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ip-unbind <var class="keyword varname">&lt;indirizzo_IP_pubblico&gt;</var> <var class="keyword varname">&lt;nome_o_id_contenitore&gt;</var></code></pre>
 <p>Il contenitore non è più associato all'indirizzo IP, ma l'IP sarà comunque
conteggiato nella quota di IP pubblici della tua organizzazione.</p>
</li>
<li class="step stepexpand"><span class="cmd">Verifica che il bind dell'indirizzo IP sia stato annullato immettendo il seguente comando.*</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> inspect <var class="keyword varname">&lt;nome_o_id_contenitore&gt;</var></code></pre>


<p>Se il valore per <samp class="ph systemoutput">Indirizzo IP pubblico</samp> non è vuoto, attendi ancora
qualche minuto ed esegui di nuovo il comando prima di proseguire al passo successivo.</p>
</li>
<li class="step stepexpand"><span class="cmd">Una volta che l'indirizzo IP è stato rimosso dal contenitore esistente, crea un altro contenitore con
l'immagine aggiornata.*</span> <pre class="codeblock"><code><span class="ph"><span class="ph"><samp class="ph codeph">bx ic</samp></span><span class="ph" id="container_single_updating__d43258e3582"> run [-p PORT] [-P] [-d] [-e ENV] [--env-file
ENVFILE] [-it] [--link NAME:ALIAS] [-m MEMORY] --name NAME [--volume VOLUME:/DIRECTORY_PATH] IMAGE [CMD [CMD ...]] </span></span></code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Esegui il bind dell'indirizzo IP al nuovo contenitore.</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ip-bind <var class="keyword varname">&lt;indirizzo_IP_pubblico&gt;</var> <var class="keyword varname">&lt;nome_o_id_contenitore&gt;</var></code></pre>
</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Elimina il vecchio contenitore.*</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> rm <var class="keyword varname">&lt;nome_o_id_contenitore&gt;</var></code></pre>
</li>
</ol>
</div>
<aside role="complementary" aria-labelledby="d75716e1075"></aside></article><article class="topic task nested1" role="article" aria-labelledby="d75716e1541" lang="it-it" id="container_linking"><h2 class="topictitle2" id="d75716e1541">Collegamento dei contenitori singoli con l'interfaccia riga di comando (CLI)</h2>
<div class="body taskbody"><p class="shortdesc">Quando un contenitore è collegato a un altro contenitore nello stesso spazio, <span class="keyword">IBM
Bluemix Container Service</span> crea una voce host sul contenitore destinatario per il contenitore di origine. Puoi utilizzare un alias per fare riferimento al contenitore di origine, invece di
uno specifico indirizzo IP che potrebbe cambiare di frequente.</p>
<div class="section context"><p>Quando desideri che un singolo contenitore comunichi con un altro contenitore che
sta eseguendo un'immagine, quale ad esempio <samp class="ph codeph">dbimage</samp>, puoi indirizzarti
al contenitore utilizzando un alias per il nome host, ad esempio <samp class="ph codeph">dbserver</samp>. Grazie a questa funzionalità, puoi creare
un'immagine <samp class="ph codeph">webserver</samp> che fa riferimento all'immagine del server di database utilizzando
il nome host <samp class="ph codeph">dbserver</samp>, a prescindere dal suo indirizzo IP o nome effettivo. Puoi eseguire più istanze della coppia nella stessa
immagine senza dover distribuire informazioni di configurazione o IP. Puoi fare riferimento al server di
database sempre come <samp class="ph codeph">dbserver</samp>.</p>

</div><ol class="steps"><li class="step stepexpand"><span class="cmd">Crea un contenitore di origine immettendo il seguente comando.*</span> <div class="note tip"><span class="tiptitle">Suggerimento:</span> Assicurati di includere l'opzione <samp class="ph codeph">-p</samp> per pubblicare la porta,
esponendo così il numero di porta al contenitore destinatario. In un Dockerfile, la porta esposta
nell'immagine con l'istruzione EXPOSE non è attualmente utilizzata dal runtime di collegamento.</div>

<div class="note tip"><span class="tiptitle">Suggerimento:</span> <span class="ph">Esegui <samp class="ph codeph"><span class="ph">bx ic</span> namespace-get</samp> per richiamare
il tuo spazio dei nomi e sostituisci <var class="keyword varname">&lt;mio_spazionomi&gt;</var> con le informazioni del tuo spazio dei nomi.</span></div>

<pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> run -p <var class="keyword varname">&lt;port&gt;</var> --name <var class="keyword varname">&lt;source_container_name&gt;</var> registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/<var class="keyword varname">&lt;source_container_image_name&gt;</var> </code></pre>
Esempio

<pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> run -p <var class="keyword varname">17546</var> --name <var class="keyword varname">source</var> registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/<var class="keyword varname">dbimage</var> </code></pre>

<div class="steps note"><span class="notetitle">Nota:</span> <span class="ph" id="container_linking__d36724e178">*In questo comando, puoi sostituire <samp class="ph codeph"><span class="ph">bx ic</span></samp> con
<samp class="ph codeph">docker</samp> quando <a href="container_cli_cfic_install.html#container_cli_login" title="Dopo che hai installato la CLI, esegui l'accesso per utilizzarla.">accedi a
<span class="keyword">IBM
Bluemix Container Service</span></a> e imposti le tue variabili di ambiente
per utilizzare i comandi Docker nativi.</span><span class="ph" id="container_linking__d36724e190">In questo argomento puoi utilizzare i comandi Docker
nativi in tutte le fasi contrassegnate con un asterisco (*). </span></div>
</li>
<li class="step stepexpand"><span class="cmd">Crea un contenitore destinatario e collegalo al contenitore di destinazione immettendo il seguente
comando. *</span> Per l'alias, seleziona un nome personalizzato per l'immagine utilizzata nel contenitore
di origine. Puoi esporre più porte per il contenitore destinatario al contenitore host includendo
l'opzione <span class="keyword option">-p</span> più volte. <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> run -p <var class="keyword varname">&lt;port&gt;</var> -p <var class="keyword varname">&lt;port&gt;</var> --name <var class="keyword varname">&lt;recipient_container_name&gt;</var> --link <var class="keyword varname">&lt;source_container_name&gt;</var>:<var class="keyword varname">&lt;alias&gt;</var> registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/<var class="keyword varname">&lt;recipient_container_image_name&gt;</var> </code></pre>
Esempio
<pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> run -p 12534 -p 15256 --name <var class="keyword varname">recipient</var> --link <var class="keyword varname">source</var>:<var class="keyword varname">dbserver</var> registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/<var class="keyword varname">webserver</var> </code></pre>

<p>Il contenitore è collegato quando viene visualizzato l'ID per il contenitore destinatario.</p>
</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Verifica le variabili di ambiente trasmesse dal link accedendo al tuo contenitore
con <samp class="ph codeph">exec</samp>.*</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> exec -it <var class="keyword varname">&lt;recipient_container_name&gt;</var> bash </code></pre>
 <div class="p">Esegui il comando <samp class="ph codeph">env</samp> nella finestra bash per vedere i dettagli
dell'alias.<pre class="codeblock"><code>"Env": [
    "<var class="keyword varname">&lt;alias&gt;</var>_PORT_&lt;porta_contenitore_di_origine&gt;/tcp_TCP_PORT=&lt;porta_contenitore_di_origine&gt;/tcp",
    "<var class="keyword varname">&lt;alias&gt;</var>_PORT_&lt;porta_contenitore_di_origine&gt;/tcp_TCP=tcp://<var class="keyword varname">&lt;IP_privato_contenitore_destinatario&gt;</var>:&lt;porta_contenitore_di_origine&gt;/tcp",
    "<var class="keyword varname">&lt;alias&gt;</var>_ENV_space_id=<var class="keyword varname">&lt;ID_spazio&gt;</var>",
    "logging_password=",
    "space_id=<var class="keyword varname">&lt;ID_spazio&gt;</var>",
    "logstash_target=logs.opvis.bluemix.net:9091",
    "<var class="keyword varname">&lt;alias&gt;</var>_PORT_<var class="keyword varname">&lt;porta_contenitore_di_origine&gt;</var>/tcp_TCP_ADDR=<var class="keyword varname">&lt;IP_privato_contenitore_destinatario&gt;</var>",
    "<var class="keyword varname">&lt;alias&gt;</var>_ENV_metrics_target=metrics.opvis.bluemix.net:9095",
    "<var class="keyword varname">&lt;alias&gt;</var>_NAME=/<var class="keyword varname">&lt;contenitore_destinatario&gt;</var>/<var class="keyword varname">&lt;alias&gt;</var>",
    "<var class="keyword varname">&lt;alias&gt;</var>_ENV_logstash_target=logs.opvis.bluemix.net:9091",
    "<var class="keyword varname">&lt;alias&gt;</var>_ENV_logging_password=",
    "<var class="keyword varname">&lt;alias&gt;</var>_PORT_<var class="keyword varname">&lt;porta_contenitore_di_origine&gt;</var>/tcp_TCP_PROTO=tcp",
    "metrics_target=metrics.opvis.bluemix.net:9095"
],</code></pre>
</div>
</li>
</ol>
</div>
<aside role="complementary" aria-labelledby="d75716e1541"></aside></article><article class="topic task nested1" role="article" aria-labelledby="d75716e1857" lang="it-it" id="container_cli_ips"><h2 class="topictitle2" id="d75716e1857">Richiesta e associazione di indirizzi IP pubblici ai contenitori</h2>
<div class="body taskbody"><p class="shortdesc">Richiesta e associazione di un indirizzo IP pubblico a un contenitore in <span class="keyword">Bluemix</span>.</p>
<div class="section prereq"><div class="steps note"><span class="notetitle">Nota:</span> Il bind a un indirizzo IP pubblico
non include un certificato SSL che codifica i dati inviati al e dal tuo contenitore singolo. Se la tua applicazione richiede la codifica SSL, puoi anche implementare la tua propria soluzione SSL
o utilizzare un gruppo di contenitori invece di un contenitore singolo.
I gruppi di contenitori sono associati a una rotta pubblica che già include
un certificato SSL, per cui puoi accedere al tuo gruppo di contenitori con HTTPS
senza alcuna ulteriore configurazione. Per ulteriori informazioni, consulta
<a href="container_ha.html#container_group_ui" title="Crea e distribuisci il contenitore di gruppi scalabili dalla GUI Bluemix. Un gruppo di contenitori include due o più contenitori che eseguono la stessa immagine. Utilizza i gruppi di contenitori per l'esecuzione dei servizi a lungo termine con i carichi di lavoro che richiedono scalabilità e affidabilità o per la verifica alla scala richiesta.">Creazione di un gruppo di contenitori con la GUI Bluemix</a>.</div>

<p>Prima di iniziare, per controllare se esiste un indirizzo IP pubblico utilizzabile per lo spazio in modo da non doverne
crearne uno nuovo, consulta <a href="container_single_ui.html#container_cli_ips_list" title="Per rendere i singoli contenitori accessibili da internet, devi eseguire il bind di un indirizzo IP pubblico ad essi. Prima di richiedere un indirizzo IP, esamina l'elenco di indirizzi IP pubblici già assegnati alla tua organizzazione e controlla se uno di tali indirizzi IP esistenti è disponibile.">Ricerca degli indirizzi IP pubblici esistenti con la CLI (command line interface)</a>.</p>
</div><ol class="steps"><li class="step stepexpand"><span class="cmd">Richiedi un indirizzo IP pubblico.</span>  Quando si richiede un indirizzo IP pubblico, ne viene assegnato uno in automatico dal pool di indirizzi IP allo
spazio. Mentre viene assegnato a uno spazio, l'indirizzo IP non viene modificato.

<pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ip-request</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Prendi nota dell'indirizzo IP.</span></li>
<li class="step stepexpand"><span class="cmd">Esegui il bind dell'indirizzo a un nuovo contenitore oppure a un contenitore in esecuzione esistente.</span> <ul class="ul choices"><li class="li choice">Esecuzione del bind a un contenitore in esecuzione esistente<pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ip-bind <var class="keyword varname">&lt;indirizzo_IP_pubblico&gt;</var> <var class="keyword varname">&lt;nome_o_id_contenitore&gt;</var></code></pre>
Esempio<pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ip-bind 192.0.2.23 mio_contenitore</code></pre>
</li>
<li class="li choice">Esecuzione del bind con un nuovo contenitore<pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> run -p <var class="keyword varname">&lt;indirizzo-ip&gt;</var>:<var class="keyword varname">&lt;porta-contenitore&gt;</var>:<var class="keyword varname">&lt;porta-contenitore&gt;</var> --name <var class="keyword varname">&lt;nome_contenitore&gt;</var> registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;nome_spazionomi&gt;</var>/<var class="keyword varname">&lt;nome_immagine&gt;</var></code></pre>
</li>
</ul>
</li>
</ol>
<div class="section result">La richiesta di bind viene eseguita immediatamente, ma la connettività all'indirizzo IP sul contenitore potrebbe richiedere alcuni minuti.</div></div>
<aside role="complementary" aria-labelledby="d75716e1857"></aside><article class="topic task nested2" role="article" aria-labelledby="d75716e2008" lang="it-it" id="container_cli_ips_list"><h3 class="topictitle3" id="d75716e2008">Ricerca degli indirizzi IP pubblici esistenti con la CLI (command line interface)</h3>
<div class="body taskbody"><p class="shortdesc">Per rendere i singoli contenitori accessibili da internet, devi eseguire il bind di un indirizzo IP
pubblico ad essi. Prima di
richiedere un indirizzo IP, esamina l'elenco di indirizzi IP pubblici già assegnati alla tua organizzazione e
controlla se uno di tali indirizzi IP esistenti è disponibile.</p>
<div class="section context"><div class="steps note"><span class="notetitle">Nota:</span> Il bind a un indirizzo IP pubblico
non include un certificato SSL che codifica i dati inviati al e dal tuo contenitore singolo. Se la tua applicazione richiede la codifica SSL, puoi anche implementare la tua propria soluzione SSL
o utilizzare un gruppo di contenitori invece di un contenitore singolo.
I gruppi di contenitori sono associati a una rotta pubblica che già include
un certificato SSL, per cui puoi accedere al tuo gruppo di contenitori con HTTPS
senza alcuna ulteriore configurazione. Per ulteriori informazioni, consulta
<a href="container_ha.html#container_group_ui" title="Crea e distribuisci il contenitore di gruppi scalabili dalla GUI Bluemix. Un gruppo di contenitori include due o più contenitori che eseguono la stessa immagine. Utilizza i gruppi di contenitori per l'esecuzione dei servizi a lungo termine con i carichi di lavoro che richiedono scalabilità e affidabilità o per la verifica alla scala richiesta.">Creazione di un gruppo di contenitori con la GUI Bluemix</a>.</div>
</div><div class="step"><span class="cmd">Elencare gli indirizzi IP pubblici disponibili nel tuo spazio.</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ips</code></pre>
</div>
<div class="section postreq">Se non disponi di alcun indirizzo IP o vuoi ottenerne uno, puoi scegliere
tra le seguenti opzioni. Puoi richiederlo quando crei un singolo contenitore mediante la GUI
<span class="keyword">Bluemix</span> o quando esegui <samp class="ph codeph"><span class="ph"><samp class="ph codeph">bx ic</samp></span> ip-request</samp> dalla riga di comando. Per
richiedere un indirizzo IP utilizzando
la riga di comando, consulta <a href="container_single_ui.html#container_cli_ips" title="Richiesta e associazione di un indirizzo IP pubblico a un contenitore in Bluemix.">Richiesta e associazione di indirizzi IP pubblici ai contenitori</a>.</div></div>
<aside role="complementary" aria-labelledby="d75716e2008"></aside></article><article class="topic task nested2" role="article" aria-labelledby="d75716e2109" lang="it-it" id="container_cli_ips_unbind"><h3 class="topictitle3" id="d75716e2109">Annullamento del bind di indirizzi IP pubblici da un contenitore</h3>
<div class="body taskbody"><p class="shortdesc">Puoi annullare il bind di un indirizzo IP pubblico a un contenitore, ma tale indirizzo IP sarà comunque disponibile
per gli altri contenitori e conteggiato nella quota di indirizzi IP della tua organizzazione. </p>
<ol class="steps"><li class="step stepexpand" id="container_cli_ips_unbind__unbind"><span class="cmd">Annulla il bind dell'indirizzo IP pubblico dal contenitore. </span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ip-unbind <var class="keyword varname">&lt;indirizzo_IP_pubblico&gt;</var> <var class="keyword varname">&lt;nome_o_id_contenitore&gt;</var></code></pre>
 <p>Il contenitore non è più associato all'indirizzo IP, ma l'IP sarà comunque
conteggiato nella quota di IP pubblici della tua organizzazione.</p>
</li>
<li class="step stepexpand"><span class="cmd">Verifica che l'indirizzo IP sia scollegato correttamente. </span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ips</code></pre>
</li>
</ol>
</div>
<aside role="complementary" aria-labelledby="d75716e2109"></aside></article><article class="topic task nested2" role="article" aria-labelledby="d75716e2191" lang="it-it" id="container_cli_ips_remove"><h3 class="topictitle3" id="d75716e2191">Rimozione di indirizzi IP pubblici dalla tua quota</h3>
<div class="body taskbody"><p class="shortdesc">Se non stai utilizzando un indirizzo IP pubblico o devi eliminarne uno per richiederne
uno nuovo, puoi rimuovere un indirizzo IP dalla quota della tua organizzazione. </p>
<div class="section prereq">Prima di iniziare, annulla il bind dell'indirizzo IP pubblico a tutti i contenitori che lo stanno utilizzando.</div><ol class="steps"><li class="step stepexpand"><span class="cmd">Rimuovi l'indirizzo IP dalla tua quota dell'organizzazione.</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ip-release <var class="keyword varname">&lt;indirizzo_IP_pubblico&gt;</var> </code></pre>
</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Verifica che l'indirizzo IP non sia più elencato come assegnato. </span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ips</code></pre>
</li>
</ol>
</div>
<aside role="complementary" aria-labelledby="d75716e2191"></aside></article></article><article class="topic task nested1" role="article" aria-labelledby="d75716e2271" lang="it-it" id="container_single_remove"><h2 class="topictitle2" id="d75716e2271">Rimozione di singoli contenitori</h2>
<div class="body taskbody"><p class="shortdesc">Per massimizzare l'uso della tua quota, di tanto in tanto rimuovi i contenitori inutilizzati.</p>
<ol class="steps"><li class="step stepexpand"><span class="cmd">Rimuovi un contenitore utilizzando uno dei seguenti metodi.</span> <ul class="ul choices"><li class="li choice">Dalla GUI <span class="keyword">Bluemix</span><ol type="a"><li>Dal dashboard <span class="keyword">Bluemix</span>,
seleziona il contenitore che desideri eliminare.</li>
<li>Espandi il menu <span class="ph uicontrol">Ulteriori azioni...</span> e fai clic su
<span class="ph uicontrol">Elimina</span>.</li>
</ol>
<ul><li>Nel tile per il contenitore, fai clic sull'icona di ingranaggio e seleziona <span class="ph uicontrol">Elimina
contenitore</span>. </li>
</ul>
</li>
<li class="li choice">Dalla CLI
*<pre class="codeblock"><code><span class="ph"><span class="ph"><samp class="ph codeph">bx ic</samp></span> rm [-f] CONTAINER [CONTAINER] </span></code></pre>
<div class="steps note"><span class="notetitle">Nota:</span> <span class="ph" id="container_single_remove__d42521e178">*In questo comando, puoi sostituire <samp class="ph codeph"><span class="ph">bx ic</span></samp> con
<samp class="ph codeph">docker</samp> quando <a href="container_cli_cfic_install.html#container_cli_login" title="Dopo che hai installato la CLI, esegui l'accesso per utilizzarla.">accedi a
<span class="keyword">IBM
Bluemix Container Service</span></a> e imposti le tue variabili di ambiente
per utilizzare i comandi Docker nativi.</span><span class="ph" id="container_single_remove__d42521e190">In questo argomento puoi utilizzare i comandi Docker
nativi in tutte le fasi contrassegnate con un asterisco (*). </span></div>
</li>
</ul>
</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Verifica che il contenitore sia stato rimosso eseguendo il seguente comando e confermando che non è presente nell'elenco.*</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ps -a</code></pre>
</li>
</ol>
</div>
<aside role="complementary" aria-labelledby="d75716e2271"></aside></article><article class="topic tutorial nested1" role="article" aria-labelledby="d75716e2421" lang="it-it" id="container_gettingstarted_tutorial"><h2 class="topictitle2" id="d75716e2421">Esercitazione: creazione di un'applicazione web contenitore singolo</h2>
<div class="body tutorialBody"><p class="shortdesc"><span class="keyword">IBM
Bluemix</span> ti consente di eseguire contenitori Docker nel
cloud pubblico. Utilizza i contenitori per distribuire applicazioni web sicure e complete che vengono eseguite indipendentemente dal sistema operativo host. I contenitori sono leggeri e non richiedono molte risorse di sistema poiché utilizzano lo stesso kernel di sistema e, pertanto, possono essere eseguiti in modo più efficiente rispetto a una macchina virtuale. Questa esercitazione illustra come creare un'applicazione web di messaggistica utilizzando i contenitori Docker in <span class="keyword">Bluemix</span>.
Durante la procedura, scriverai un Dockerfile, aggiungerai immagini Docker al tuo registro delle immagini <span class="keyword">Bluemix</span>
privato e collegherai tra di loro i contenitori.</p>
<div class="section tutorialDesc"></div><section class="section learningObjectives tutorialLearningObjectives" role="region" aria-labelledby="d75716e2487"><h3 class="sectiontitle" id="d75716e2487">Obiettivi</h3>
<p>In questo scenario, creerai un'applicazione web denominata Let's Chat nel tuo spazio <span class="keyword">Bluemix</span>. Let's Chat è un'applicazione di messaggistica online progettata per piccoli team di sviluppo. Utilizzando <span class="keyword">Bluemix</span>,
puoi gestire un registro delle immagini Docker e distribuire la tua applicazione web in modo che sia accessibile pubblicamente.</p>

<figure class="fignone" id="container_gettingstarted_tutorial__getting_started_tutorial"><figcaption>Figura 1. Architettura della tua applicazione web in esecuzione</figcaption><div class="image"><object width="480" data="images/getting_started_tutorial.svg"><img width="480" src="images/getting_started_tutorial.jpg" alt="Diagramma dell'esercitazione Lets Chat"></object></div></figure>

<div class="p">Questo scenario fornisce le istruzioni per le seguenti attività:<ul><li>Impostazione di un account <span class="keyword">Bluemix</span></li>
<li>Impostazione dell'interfaccia riga di comando (CLI) <span class="keyword">IBM
Bluemix Container Service</span></li>
<li>Creazione di un Dockerfile</li>
<li>Esecuzione del push di un'immagine nel tuo registro delle immagini <span class="keyword">Bluemix</span> privato</li>
<li>Collegamento di due contenitori, che crea una connessione di rete tra i contenitori</li>
<li>Creazione di un contenitore accessibile al pubblico </li>
</ul>
</div>
</section>
<section class="section timeRequired tutorialTimeRequired" role="region" aria-labelledby="d75716e2538"><h3 class="sectiontitle" id="d75716e2538">Tempo richiesto</h3>45 minuti</section>
<section role="region" aria-labelledby="d75716e2542"><h3 class="sectiontitle" id="d75716e2542">Destinatari</h3>
<p>Questa esercitazione è rivolta agli utenti che non hanno dimestichezza con i contenitori Docker in <span class="keyword">Bluemix</span> e che vogliono imparare la modalità di distribuzione di un'applicazione in esecuzione nel cloud pubblico <span class="keyword">Bluemix</span>.</p>
</section></div>
<article class="topic task tutorialLesson nested2" role="article" aria-labelledby="d75716e2556" lang="it-it" id="container_gettingstarted_tutorial_lesson_1"><h3 class="topictitle3" id="d75716e2556">Lezione 1: configura <span class="keyword">IBM
Bluemix Container Service</span></h3>
<div class="body taskbody"><p class="shortdesc">In questa lezione, creerai il tuo account <span class="keyword">Bluemix</span>, installerai la CLI <span class="keyword">IBM
Bluemix Container Service</span>, accederai al tuo account ed esaminerai le immagini IBM predefinite. </p>
<ol class="steps"><li class="step stepexpand"><span class="cmd">Vai alla <a href="https://console.ng.bluemix.net/registration/" rel="external" target="_blank" title="(Aprire in una nuova scheda o finestra)">pagina di registrazione <span class="keyword">Bluemix</span></a>
per creare un account.</span> Annota i tuoi nome utente e password poiché queste informazioni saranno necessarie in seguito.</li>
<li class="step stepexpand"><span class="cmd">Installa la versione CLI di Cloud Foundry <span class="ph">CLI Cloud Foundry versione <span class="ph" id="container_gettingstarted_tutorial_lesson_1__d28124e283">6.14.0</span> - 6.22.0</span>
dal <a href="https://github.com/cloudfoundry/cli/releases" rel="external" target="_blank" title="(Aprire in una nuova scheda o finestra)">repository GitHub</a>.</span> Devi installare la CLI di Cloud Foundry nella posizione predefinita per il tuo sistema operativo, altrimenti
la variabile di ambiente PATH non corrisponde alla tua directory di installazione. <div class="steps note"><span class="notetitle">Nota:</span> Gli utenti MacOS Sierra devono installare la CLI
Cloud Foundry versione 6.22.0 o successiva. </div>


<div class="p">Per verificare che la CLI di Cloud Foundry sia installata correttamente o per verificare la versione qualora avessi già installato Cloud
Foundry, immetti il seguente
comando:<pre class="codeblock"><code>cf -v</code></pre>
</div>
</li>
<li class="step stepexpand"><span class="cmd"><a href="https://www.docker.com/products/docker" rel="external" target="_blank" title="(Aprire in una nuova scheda o finestra)">Installa
Docker 1.10.0 o successiva</a> dal sito Web Docker.</span></li>
<li class="step stepexpand"><span class="cmd">Apri il tuo terminale Docker.</span> Se stai utilizzando Docker Toolbox per Windows o OS X, apri un programma denominato Docker Quickstart Terminal. </li>
<li class="step stepexpand"><span class="cmd">Installa la CLI <a href="https://clis.ng.bluemix.net/ui/home.html" rel="external" target="_blank" title="(Aprire in una nuova scheda o finestra)">CLI
<span class="keyword">Bluemix</span></a>.</span></li>
<li class="step stepexpand"><span class="cmd" id="container_gettingstarted_tutorial_lesson_1__d28124e322">Installa il plug-in <span class="keyword">IBM
Bluemix Container Service</span>. </span> <pre class="codeblock" id="container_gettingstarted_tutorial_lesson_1__d28124e333"><code><span class="ph">bx</span> plugin install IBM-Containers -r <span class="ph" data-hd-audience="yellow"><var class="keyword varname">Bluemix</var></span></code></pre>
 <div class="p">Per verificare che il plugin è installato correttamente, esegui il seguente comando:<pre class="codeblock"><code><span class="ph">bx</span> plugin list</code></pre>
</div>


<p>Il plug-in viene visualizzato nei risultati come IBM - Containers.</p>
</li>
<li class="step stepexpand"><span class="cmd">Ora che hai il plug-in <span class="keyword">IBM
Bluemix Container Service</span> installato,
esegui <samp class="ph codeph">docker run hello-world</samp> nel tuo terminale Docker. </span> <pre class="codeblock"><code>docker run hello-world</code></pre>
 Questo verifica che la tua configurazione Docker sia impostata correttamente. Docker cerca l'immagine
locale; quindi, se questa è la prima volta che esegui il comando, vedrai il seguente messaggio:

<pre class="pre screen"><code>Unable to find image 'hello-world:latest' locally</code></pre>
L'immagine viene
estratta da Docker Hub, un repository pubblico di immagini; al completamento del comando,
il tuo output si presenterà così:
<pre class="pre screen"><code>$ docker run hello-world

Hello from Docker.
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 1. The Docker client contacted the Docker daemon.
 2. The Docker daemon pulled the <span class="q">"hello-world"</span> image from the Docker Hub.
 3. The Docker daemon created a new container from that image which runs the
    executable that produces the output you are currently reading.
 4. The Docker daemon streamed that output to the Docker client, which sent it
    to your terminal.

To try something more ambitious, you can run an Ubuntu container with:
 $ docker run -it ubuntu bash

Share images, automate workflows, and more with a free Docker Hub account:
 https://hub.docker.com

For more examples and ideas, visit:
 https://docs.docker.com/userguide/</code></pre>
 Se hello-world non viene eseguito, esegui <samp class="ph codeph">docker version</samp> per identificare che Docker
è installato correttamente. Se sei un utente Windows e OS X, conferma che stai eseguendo Docker Quickstart Terminal
e non la tua finestra di terminale standard.</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Se questa è la prima volta che utilizzi <span class="keyword">Bluemix</span>, specifica un endpoint API. L'esempio di
codice seguente utilizza per impostazione predefinita la regione del tuo account <span class="keyword">Bluemix</span>, ma tu puoi
modificare le regioni manualmente. </span> <pre class="codeblock"><code>bx api https://api.<var class="keyword varname" data-hd-keyref="DomainName">nome_dominio</var></code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Ora accedi al tuo account <span class="keyword">Bluemix</span>.</span> Immetti l'email e la password che hai specificato quando hai creato il tuo account <span class="keyword">Bluemix</span>. Se necessario, seleziona la tua organizzazione e il tuo spazio preferiti ai prompt.
<pre class="codeblock"><code>bx login [-sso]</code></pre>
<span class="ph">Il parametro SSO (Single Sign On) <span class="keyword option">--sso</span> è obbligatorio quando accedi con un ID
federato. Se questa opzione viene utilizzata, apri <a href="https://login.ng.bluemix.net/UAALoginServerWAR/passcode" rel="external" target="_blank" title="(Aprire in una nuova scheda o finestra)">https://login.ng.bluemix.net/UAALoginServerWAR/passcode</a> per ottenere il passcode monouso. Se non includi l'opzione <span class="keyword option">--sso</span>, completa questi passi secondari.</span><ol type="a" class="ol substeps"><li class="li substep"><span class="cmd">Per <span class="ph uicontrol">Email</span>, immetti il tuo ID IBM per
<span class="keyword">Bluemix</span>.</span></li>
<li class="li substep"><span class="cmd">Per <span class="ph uicontrol">Password</span>, immetti la password per l'ID IBM.</span> Vengono richiamati i tuoi spazi e organizzazioni Bluemix.</li>
<li class="li substep"><span class="cmd">Immetti il numero che rappresenta una delle tue organizzazioni <span class="keyword">Bluemix</span>. </span></li>
<li class="li substep"><span class="cmd">Immetti il numero che rappresenta uno dei tuoi spazi <span class="keyword">Bluemix</span> esistenti. </span></li>
</ol>
</li>
<li class="step stepexpand"><span class="cmd">Crea uno spazio dei nomi. </span> Lo spazio dei nomi della tua organizzazione è un identificativo univoco per il tuo registro delle immagini contenitore in una regione
<span class="keyword">Bluemix</span>. Pensa allo spazio dei nomi come a un modo per distinguere il tuo registro delle immagini <span class="keyword">Bluemix</span>
da ogni altro registro delle immagini nel cloud pubblico IBM.
<div class="steps note"><span class="notetitle">Nota:</span> Se tu o qualsiasi altro utente avete eseguito l'accesso alla tua organizzazione <span class="keyword">Bluemix</span> e creato dei contenitori, già hai uno spazio dei nomi. Puoi scoprirne il valore eseguendo questo comando:
<pre class="codeblock"><code><samp class="ph codeph"><span class="ph">bx ic</span> namespace-get</samp></code></pre>
</div>
 <div class="p">Di seguito sono riportati alcuni suggerimenti per la creazione dello spazio dei nomi:<ul><li>Il tuo spazio dei nomi deve essere univoco. Non può essere utilizzato da altre organizzazioni della stessa regione nel
cloud pubblico IBM.</li>
<li>Il tuo spazio dei nomi può essere di 4-30 caratteri e può contenere solo lettere minuscole, numeri o
caratteri di sottolineatura (_).</li>
<li>Evita uno spazio dei nomi lungo. Se usi la riga di comando, digiterai lo spazio dei nomi spesso, come parte dell'inserimento di tag o della trasmissione delle tue immagini.</li>
</ul>
</div>


<p>Nel comando di seguito, sostituisci a <var class="keyword varname">il_tuo_nome_registro_qui</var> lo spazio dei nomi da te scelto:</p>
 <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> namespace-set <var class="keyword varname">il_tuo_nome_registro_qui</var></code></pre>
</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Imposta una variabile per il tuo spazio dei nomi.</span> In tutta questa esercitazione, i comandi di esempio includeranno la stringa <samp class="ph codeph">$tuo_spaziodeinomi</samp>
per indicare dove inserire il tuo spazio dei nomi. Per evitare di modificare questi comandi manualmente, crea una variabile nel tuo terminale. <pre class="codeblock"><code>tuo_spaziodeinomi=<var class="keyword varname">il_tuo_nome_registro_qui</var></code></pre>
 Esempio utilizzando <samp class="ph codeph">ljenkins1</samp> come spazio dei nomi dell'utente <pre class="pre screen"><code>$ tuo_spaziodeinomi=<var class="keyword varname">ljenkins1</var></code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Inizializza <span class="keyword">IBM
Bluemix Container Service</span>.</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> init</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Ora che hai eseguito l'accesso a <span class="keyword">IBM
Bluemix Container Service</span>, controlliamo le immagini predefinite
che sono a tua disposizione. </span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> images</code></pre>


<pre class="pre screen"><code>$ <span class="ph"><samp class="ph codeph">bx ic</samp></span> images
REPOSITORY                                        TAG                 IMAGE ID            CREATED             SIZE
registry.ng.bluemix.net/ibm-mobilefirst-starter   latest              d61c09fd0af7        4 weeks ago         510.2 MB
registry.ng.bluemix.net/ibm-node-strong-pm        latest              322b9ca7b2dc        2 weeks ago         255.5 MB
registry.ng.bluemix.net/ibmliberty                latest              33fdda9431c7        2 days ago          292.5 MB
registry.ng.bluemix.net/ibmnode                   latest              c33c25d4af3b        2 days ago          187.8 MB
registry.ng.bluemix.net/ibmnode                   v4                  c33c25d4af3b        2 days ago          187.8 MB
registry.ng.bluemix.net/ibmnode                   v1.1                ef3425f90e1e        2 days ago          175.3 MB
registry.ng.bluemix.net/ibmnode                   v1.2                c5546bf5e891        2 days ago          183.6 MB</code></pre>


<div class="tablenoborder"><table summary="" id="container_gettingstarted_tutorial_lesson_1__table_lqp_hkm_2v" class="defaultstyle"><caption><span class="tablecap">Tabella 3. Ulteriori informazioni su immagini e contenitori</span></caption><thead><tr><th colspan="2" id="d75716e2949" class="thleft"><span class="ph"><img src="images/idea.png" alt="Questa icona indica che sono presenti ulteriori informazioni da apprendere su questo passo dell'attività."></span> Ulteriori informazioni su immagini e
contenitori</th>
</tr>
</thead>
<tbody><tr><td style="width: NaN%" headers="d75716e2949 ">Confronto tra immagini e contenitori</td>
<td style="width: NaN%" headers="d75716e2949 "><p> Qual è la differenza tra un'immagine e un contenitore? Sostanzialmente, un'immagine è un'istantanea
di sola lettura dei livelli e dei comandi definiti. Solo dopo la sua esecuzione l'immagine diventa un contenitore. Uno dei vantaggi di questo processo è che, indipendentemente dalla quantità di modifiche che apporti a un contenitore, un'istantanea dell'immagine resta invariata. I contenitori singoli sono, per impostazione predefinita, pensati
per i processi temporanei. Le configurazioni e i dati che devono essere conservati tra più contenitori devono essere scritti
nell'immagine o archiviati in un volume persistente. Consulta il glossario di Docker per una <a href="https://docs.docker.com/glossary/?term=image" rel="external" target="_blank" title="(Aprire in una nuova scheda o finestra)">definizione di immagine</a>.</p>
</td>
</tr>
<tr><td style="width: NaN%" headers="d75716e2949 ">Immagini IBM</td>
<td style="width: NaN%" headers="d75716e2949 "><p>In questa esercitazione, stai utilizzando immagini da Docker Hub. Tuttavia, IBM fornisce anche quattro di queste
<span class="q">"istantanee"</span> di immagine che
puoi utilizzare per creare delle tue immagini o che puoi utilizzare per eseguire un contenitore. Puoi trovare ulteriori informazioni sulle <a href="container_images_adding_ov.html#container_images_adding_ov" title="Un'immagine del contenitore è la base per ogni contenitore che crei. Viene creata un'immagine da un Dockerfile, che è un file che contiene le istruzioni per creare l'immagine e le risorse utente, come un'applicazione, la configurazione dell'applicazione e le relative dipendenze. Pensa all'immagine del contenitore come a un file eseguibile (.exe o .bin). Appena avrai eseguito il file dell'applicazione, avrai creato un'istanza della tua applicazione. Quando esegui un contenitore, crei un'istanza del contenitore dall'immagine.">immagini IBM</a> qui.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
<div class="section result"><p>Congratulazioni! Hai creato correttamente il tuo account Bluemix, hai installato i plug-in CLI e hai eseguito l'accesso per visualizzare le immagini a tua disposizione per creare delle tue applicazioni web.</p>

<p>Per aggiungere immagini al tuo registro, continua alla lezione successiva.</p>
</div></div>
</article><article class="topic task tutorialLesson nested2" role="article" aria-labelledby="d75716e2992" lang="it-it" id="container_gettingstarted_tutorial_lesson_2"><h3 class="topictitle3" id="d75716e2992">Lezione 2: aggiunta di immagini al tuo registro delle immagini <span class="keyword">Bluemix</span> privato</h3>
<div class="body taskbody"><p class="shortdesc">In questa lezione, utilizzi due metodi per aggiungere immagini al tuo registro delle immagini privato: copia di
un'immagine da Docker Hub e creazione di un Dockerfile. La creazione di un tuo Dockerfile ti consente di aggiungere
dei tuoi comandi a un'immagine. Pertanto, ogni contenitore avviato da tale immagine contiene tali comandi. Uno dei vantaggi dei contenitori consiste nel fatto che tali immagini ti aiutano a mantenere il
controllo del codice sorgente in modo che tutti nella tua organizzazione possano creare dei contenitori
con un ambiente operativo congruente.</p>
<div class="section context">In questa lezione vengono utilizzate le seguenti immagini. Puoi esaminare i Dockerfile per le immagini
e altre informazioni in Docker Hub.<ul><li><a href="https://hub.docker.com/_/mongo/" rel="external" target="_blank" title="(Aprire in una nuova scheda o finestra)">MongoDB</a></li>
<li><a href="https://hub.docker.com/r/sdelements/lets-chat/" rel="external" target="_blank" title="(Aprire in una nuova scheda o finestra)">Let's Chat</a></li>
</ul>
</div><ol class="steps"><li class="step stepexpand"><span class="cmd">Copia l'immagine MongoDB da Docker Hub al tuo registro delle immagini <span class="keyword">Bluemix</span> privato.</span> L'immagine MongoDB è utilizzata per memorizzare i dati. Anche se il contenitore MongoDB può essere utilizzato per memorizzare i dati,
tutti i dati scritti nel contenitore vengono persi quando il contenitore viene rimosso. Per conservare tutti i dati
scritti in un contenitore, devi montare un volume quando esegui un contenitore. <p>Ricordati di sostituire <samp class="ph codeph"><var class="keyword varname">$tuo_spaziodeinomi</var></samp> con lo spazio dei nomi da te creato
nella Lezione 1, se non hai impostato la sostituzione di variabile. Se devi confermare qual è il tuo spazio dei nomi,
esegui <samp class="ph codeph"><span class="ph"><samp class="ph codeph">bx ic</samp></span> namespace get</samp>.</p>
 <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> cpi <var class="keyword varname">mongo</var> registry.<var class="keyword varname" data-hd-keyref="DomainName">domain_name</var>/<var class="keyword varname">$your_namespace</var>/<var class="keyword varname">mongo</var></code></pre>
 Il codice di output iniziale sarà simile a questo esempio.
<pre class="pre screen"><code>$ <span class="ph"><samp class="ph codeph">bx ic</samp></span> cpi mongo registry.<var class="keyword varname" data-hd-keyref="DomainName">domain_name</var>/<var class="keyword varname">$your_namespace</var>/<var class="keyword varname">mongo</var>
Sending build context to Docker daemon 2.048 kB
Step 1 : FROM mongo
 ---&gt; 32427ae49eff
Successfully built 32427ae49eff
The push refers to a repository [registry.<var class="keyword varname" data-hd-keyref="DomainName">nome_dominio</var>/<var class="keyword varname">$tuo_spaziodeinomi</var>/<var class="keyword varname">mongo</var>] (len: 1)</code></pre>
 In background, l'immagine mongo da Docker Hub è in fase di copia nel tuo registro delle immagini
Bluemix. Il completamento del comando <samp class="ph codeph">cpi</samp> può richiedere qualche minuto; una volta completato, l'output completo sarà simile al seguente esempio.
<pre class="pre screen"><code>$ <span class="ph"><samp class="ph codeph">bx ic</samp></span> cpi mongo registry.<var class="keyword varname" data-hd-keyref="DomainName">domain_name</var>/<var class="keyword varname">$your_namespace</var>/<var class="keyword varname">mongo</var>
Sending build context to Docker daemon 2.048 kB
Step 1 : FROM mongo
 ---&gt; 32427ae49eff
Successfully built 32427ae49eff
The push refers to a repository [registry.<var class="keyword varname" data-hd-keyref="DomainName">nome_dominio</var>/<var class="keyword varname">$tuo_spaziodeinomi</var>/<var class="keyword varname">mongo</var>] (len: 1)
32427ae49eff: Pushed
424ec4bd7fc4: Pushed
9e3490ec0722: Pushed
166aa7bca9c1: Pushed
c79deeebd6f0: Pushed
c181e50c0e8b: Pushed
438e27bd44bf: Pushed
af6f43fa45bb: Pushed
605e5767a4ac: Pushed
33e8076f6b28: Pushed
e63969171eec: Pushed
latest: digest: sha256:ab092d78d331337cf6cf0ceeda28489f5e154b1403ca1220e9de6b417
b7cfb95 size: 32158</code></pre>
 <div class="tablenoborder"><table summary="" id="container_gettingstarted_tutorial_lesson_2__table_sdf_nkm_2v" class="defaultstyle"><thead><tr><th colspan="2" id="d75716e3159" class="thleft"><span class="ph"><img src="images/idea.png" alt="Questa icona indica che sono presenti ulteriori informazioni da apprendere su questo passo dell'attività."></span> Descrizione dei componenti di questo comando</th>
</tr>
</thead>
<tbody><tr><td style="width: NaN%" headers="d75716e3159 "><samp class="ph codeph">cpi</samp></td>
<td style="width: NaN%" headers="d75716e3159 ">Il comando di copia.</td>
</tr>
<tr><td style="width: NaN%" headers="d75716e3159 "><samp class="ph codeph">mongo</samp></td>
<td style="width: NaN%" headers="d75716e3159 ">Il repository di origine e il nome. In questo caso, il nome dell'immagine è <var class="keyword varname">mongo</var> e non è necessaria alcuna altra definizione di repository, poiché l'immagine si trova in Docker Hub.</td>
</tr>
<tr><td style="width: NaN%" headers="d75716e3159 "><samp class="ph codeph">registry.<var class="keyword varname" data-hd-keyref="DomainName">nome_dominio</var>/<var class="keyword varname">$tuo_spaziodeinomi</var>/<var class="keyword varname">mongo</var></samp></td>
<td style="width: NaN%" headers="d75716e3159 ">Il percorso del registro di destinazione, che include il tuo spazio dei nomi univoco e il nome dell'immagine
di destinazione. Per questo esempio, continuiamo a usare il nome dell'immagine come <var class="keyword varname">mongo</var>, ma tu puoi scegliere qualsiasi nome per le immagini nel tuo registro
privato. Quando lavori con questa immagine nella CLI, specifichi l'immagine in base al percorso completo:
<samp class="ph codeph">registry.<var class="keyword varname" data-hd-keyref="DomainName">nome_dominio</var>/<var class="keyword varname">$tuo_spaziodeinomi</var>/<var class="keyword varname">mongo</var></samp></td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="step stepexpand"><span class="cmd">Crea la nuova cartella locale per il tuo Dockerfile e accedi a essa.</span> Ora che hai aggiunto un'immagine al tuo registro tramite il comando <samp class="ph codeph">cpi</samp>,
procederai alla creazione di un'altra immagine da un Dockerfile. Un Dockerfile ti consente di creare un'immagine
localmente e ti consente di aggiungere qualsiasi ulteriore comando o variabile di cui la tua
applicazione web può avere bisogno. Alcuni di questi comandi possono essere aggiunti durante
la creazione del contenitore, ma ciò può dare luogo a una frammentazione con più versioni della
stessa immagine. L'aggiunta di comandi al Dockerfile garantisce che ogni contenitore creato
da questa immagine abbia questi comandi. <pre class="codeblock"><code>mkdir wrapper &amp;&amp; cd wrapper</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Crea un Dockerfile all'interno della cartella <span class="ph filepath">wrapper</span>.</span> Questo comando crea un Dockerfile e aggiunge il comando <var class="keyword varname">FROM</var> specificato,
che è richiesto in tutti i Dockerfile. <var class="keyword varname">FROM</var> indica quale sarà l'immagine principale.
In questo caso, stiamo utilizzando l'immagine <var class="keyword varname">lets-chat</var> come nostra immagine principale. <pre class="codeblock"><code>echo <span class="q">"FROM sdelements/lets-chat:latest"</span> &gt; Dockerfile</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Conferma che il Dockerfile è stato creato elencando i file nella tua directory corrente.</span> <pre class="codeblock"><code>ls</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Aggiungi un comando di ritardo di rete al tuo Dockerfile.</span> Quando si avvia il contenitore lets-chat, <span class="keyword">IBM
Bluemix Container Service</span> configura la rete del contenitore privata
e assegna un indirizzo IP privato al contenitore. L'applicazione lets-chat richiede una connessione di rete attiva
nel momento in cui si avvia l'applicazione. L'aggiunta del ritardo di rete assicura che sarà disponibile tempo sufficiente
perché il collegamento alla rete <span class="keyword">IBM
Bluemix Container Service</span> finisca
prima che venga avviata l'applicazione. <pre class="codeblock"><code>echo <span class="q">"CMD (sleep 60; npm start)"</span> &gt;&gt; Dockerfile</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Crea la tua immagine e aggiungi tag ad essa.</span> Non dimenticarti del <samp class="ph codeph">.</samp> alla fine del comando. Il punto indica a Docker di cercare all'interno della tua cartella locale corrente
il Dockerfile necessario. <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> build -t registry.<var class="keyword varname" data-hd-keyref="DomainName">domain_name</var>/<var class="keyword varname">$your_namespace</var>/lets-chat .</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Conferma che la tua immagine <var class="keyword varname">mongo</var> e la tua immagine <var class="keyword varname">lets-chat</var>
si trovano nel tuo registro delle immagini <span class="keyword">Bluemix</span>.</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> images</code></pre>


<pre class="pre screen"><code>$ <span class="ph"><samp class="ph codeph">bx ic</samp></span> images
REPOSITORY                                                  TAG                 IMAGE ID            CREATED             SIZE
registry.<var class="keyword varname" data-hd-keyref="DomainName">nome_dominio</var>/<var class="keyword varname">$tuo_spaziodeinomi</var>/<var class="keyword varname">mongo</var>                          latest              8de059ee71fc        2 minutes ago         317.4 MB
registry.<var class="keyword varname" data-hd-keyref="DomainName">nome_dominio</var>/<var class="keyword varname">$tuo_spaziodeinomi</var>/<var class="keyword varname">lets-chat </var>                      latest              d4de00f58363        5 minutes ago          0 B
registry.<var class="keyword varname" data-hd-keyref="DomainName">nome_dominio</var>/ibm-node-strong-pm                  latest              322b9ca7b2dc        2 weeks ago         616.4 MB
registry.<var class="keyword varname" data-hd-keyref="DomainName">nome_dominio</var>/ibmliberty                          latest              6595ea483bf5        2 weeks ago         552.8 MB
registry.<var class="keyword varname" data-hd-keyref="DomainName">nome_dominio</var>/ibmnode                             latest              b2c351248227        2 weeks ago         472.4 MB
registry.<var class="keyword varname" data-hd-keyref="DomainName">nome_dominio</var>/ibmnode                             v4                  b2c351248227        2 weeks ago         472.4 MB
registry.<var class="keyword varname" data-hd-keyref="DomainName">nome_dominio</var>/ibmnode                             v1.1                7d11220193d6        2 weeks ago         449.2 MB
registry.<var class="keyword varname" data-hd-keyref="DomainName">nome_dominio</var>/ibmnode                             v1.2                84efce0c747b        2 weeks ago         465.2 MB</code></pre>
</li>
</ol>
<div class="section result"><p>Ora le immagini necessarie sono disponibili nel tuo registro delle immagini <span class="keyword">Bluemix</span> privato! Hai
copiato correttamente un'immagine Docker Hub, hai creato un Dockerfile, hai creato una nuova immagine e ne hai quindi eseguito il push nel
tuo registro delle immagini <span class="keyword">Bluemix</span>.</p>

<p>Nella prossima lezione, creerai i contenitori, li collegherai tra di loro e distribuirai la tua applicazione web.</p>
</div></div>
</article><article class="topic task tutorialLesson nested2" role="article" aria-labelledby="d75716e3372" lang="it-it" id="container_gettingstarted_tutorial_lesson_3"><h3 class="topictitle3" id="d75716e3372">Lezione 3: creazione e distribuzione di contenitori</h3>
<div class="body taskbody"><p class="shortdesc">Disponi delle immagini necessarie nel tuo registro delle immagini <span class="keyword">Bluemix</span> per distribuire
l'applicazione web di messaggistica Let's Chat. In questa lezione, creerai i contenitori, li collegherai tra di loro e assegnerai un indirizzo IP pubblico all'applicazione.</p>
<ol class="steps"><li class="step stepexpand"><span class="cmd">Esegui il tuo contenitore dall'immagine mongo.</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> run --name <var class="keyword varname">lc-mongo</var> -p <var class="keyword varname">27017</var> -m <var class="keyword varname">128</var> registry.<var class="keyword varname" data-hd-keyref="DomainName">domain_name</var>/<var class="keyword varname">$your_namespace</var>/mongo</code></pre>
 <div class="tablenoborder"><table summary="" id="container_gettingstarted_tutorial_lesson_3__table_lqp_hkm_2v" class="defaultstyle"><thead><tr><th colspan="2" id="d75716e3458" class="thleft"><span class="ph"><img src="images/idea.png" alt="Questa icona indica che sono presenti ulteriori informazioni da apprendere su questo passo dell'attività."></span> Descrizione dei componenti di questo comando</th>
</tr>
</thead>
<tbody><tr><td style="width: 22.22222222222222%" headers="d75716e3458 ">run</td>
<td style="width: 77.77777777777779%" headers="d75716e3458 "><p> Il comando run che crea il contenitore dall'immagine specificata.</p>
</td>
</tr>
<tr><td style="width: 22.22222222222222%" headers="d75716e3458 ">--name</td>
<td style="width: 77.77777777777779%" headers="d75716e3458 ">Definisce il nome del contenitore. In questo caso, abbiamo denominato il contenitore <var class="keyword varname">lc-mongo</var>.</td>
</tr>
<tr><td style="width: 22.22222222222222%" headers="d75716e3458 ">-p</td>
<td style="width: 77.77777777777779%" headers="d75716e3458 "><span class="ph">Se vuoi rendere la tua applicazione accessibile da Internet, devi esporre
una porta pubblica. Quando esponi una porta pubblica,
crei un gruppo di sicurezza di rete pubblico per il tuo contenitore che ti consente di inviare
e ricevere dati pubblici solo nella porta esposta. Tutte le altre porte pubbliche sono chiuse
e non possono essere utilizzate per accedere alla tua applicazione da internet. Puoi includere più porte con più opzioni
<span class="keyword option">-p</span>. Le porte non possono essere associate
o inoltrate. Se non esponi una porta, il tuo contenitore è accessibile solo dalla rete
del contenitore privata. Puoi utilizzare l'indirizzo IP assegnato per comunicare con il tuo contenitore nella rete
privata.</span> In
questo caso, stiamo esponendo la porta 27017 poiché tale porta era stata specificata nel Dockerfile. </td>
</tr>
<tr><td style="width: 22.22222222222222%" headers="d75716e3458 ">-m</td>
<td style="width: 77.77777777777779%" headers="d75716e3458 "><span class="ph">Immetti un limite di memoria per il tuo contenitore in MB. Il limite di memoria
è la parte della dimensione del contenitore che definisce la quantità massima di memoria e spazio su disco di un contenitore
nell'host di calcolo durante il runtime. Dopo che una dimensione del contenitore è stata assegnata, non è
possibile modificare il valore.</span></td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="step stepexpand"><span class="cmd">Conferma che il contenitore è in esecuzione.</span> Prima di continuare al passo successivo, aspetta che lo stato venga aggiornato a in esecuzione. Se necessario,
puoi eseguire <samp class="ph codeph"><span class="ph"><samp class="ph codeph">bx ic</samp></span> ps</samp> finché lo stato del contenitore non indicherà in esecuzione. <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span>ps</code></pre>


<pre class="pre screen"><code>$<span class="ph"><samp class="ph codeph">bx ic</samp></span> ps
CONTAINER ID        IMAGE                                           COMMAND             CREATED             STATUS                PORTS               NAMES
9f73abc2-9a1        registry.<var class="keyword varname" data-hd-keyref="DomainName">domain_name</var>/<var class="keyword varname">$your_namespace</var>/<var class="keyword varname">mongo</var>:latest       <span class="q">""</span>                  40 seconds ago          Running 5 seconds ago    27017/tcp           lc-mongo</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Dopo che il contenitore <var class="keyword varname">mongo</var> sarà in esecuzione, esegui il tuo contenitore
<var class="keyword varname">lets-chat</var>.</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> run --name <var class="keyword varname">lets-chat</var> --link lc-mongo:mongo -p <var class="keyword varname">8080</var> -m <var class="keyword varname">128</var> registry.<var class="keyword varname" data-hd-keyref="DomainName">domain_name</var>/<var class="keyword varname">$your_namespace</var>/<var class="keyword varname">lets-chat</var></code></pre>
 <div class="tablenoborder"><table summary="" id="container_gettingstarted_tutorial_lesson_3__table_o22_ttv_4x" class="defaultstyle"><thead><tr><th colspan="2" id="d75716e3568" class="thleft"><span class="ph"><img src="images/idea.png" alt="Questa icona indica che sono presenti ulteriori informazioni da apprendere su questo passo dell'attività."></span> Descrizione dei componenti di questo comando</th>
</tr>
</thead>
<tbody><tr><td style="width: 22.22222222222222%" headers="d75716e3568 ">--link</td>
<td style="width: 77.77777777777779%" headers="d75716e3568 "><p>Il collegamento di un contenitore di database come <samp class="ph codeph">lc-mongo</samp> a un altro contenitore è
uno degli utilizzi comuni di <samp class="ph codeph">--link</samp>. L'indicatore <samp class="ph codeph">--link</samp> crea una voce host
sul contenitore <var class="keyword varname">lets-chat</var> per il contenitore <var class="keyword varname">lc-mongo</var>, che consente ai
contenitori di comunicare tra loro.</p>
</td>
</tr>
</tbody>
</table>
</div>
</li>
<li class="step stepexpand"><span class="cmd">Visualizza i tuoi contenitori.</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span>ps</code></pre>


<pre class="pre screen"><code>$<span class="ph"><samp class="ph codeph">bx ic</samp></span> ps
CONTAINER ID        IMAGE                                           COMMAND             CREATED             STATUS                  PORTS                         NAMES
68f6536a-82f        registry.<var class="keyword varname" data-hd-keyref="DomainName">domain_name</var>/<var class="keyword varname">$your_namespace</var>/<var class="keyword varname">lets-chat</var>:latest   <span class="q">""</span>                  3 days ago          Running 6 seconds ago   8080/tcp                      <var class="keyword varname">lets-chat</var>
9f73abc2-9a1        registry.<var class="keyword varname" data-hd-keyref="DomainName">domain_name</var>/<var class="keyword varname">$your_namespace</var>/<var class="keyword varname">mongo</var>:latest       <span class="q">""</span>                  3 days ago          Running 3 days ago      27017/tcp                     <var class="keyword varname">lc-mongo</var></code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Elenca gli indirizzi IP disponibili.</span> L'associazione di un indirizzo IP consente l'accesso alla tua applicazione web con un singolo contenitore via Internet. <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ips</code></pre>
</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Se non è elencato alcun indirizzo IP, richiedine uno.</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ip-request</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Scegli un indirizzo IP disponibile e associalo al contenitore <var class="keyword varname">lets-chat</var>.</span> Nota: se tutti i tuoi indirizzi IP sono già associati, dovrai prima <a href="container_cli_reference_cfic.html#container_cli_reference_cfic__ip_unbind">annullare l'associazione di un indirizzo IP</a>. Sostituisci questo indirizzo IP di esempio
con un indirizzo IP disponibile nella tua organizzazione Bluemix. <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ip-bind <var class="keyword varname">192.0.2.100</var> lets-chat</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Aspetta che venga completata l'associazione dell'indirizzo IP.</span> <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> inspect lets-chat</code></pre>
Appena l'indirizzo IP è stato associato al tuo contenitore, viene elencato
come <span class="ph uicontrol">IndirizzoIPpubblico</span> nella sezione <span class="ph uicontrol">Reti</span> del tuo output
della CLI.
<pre class="pre screen"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> inspect lets-chat
...
<span class="q">"PortMapping"</span>: null,
<span class="q">"Ports"</span>: {
    <span class="q">"8080/tcp"</span>: [
      {
         <span class="q">"HostIp"</span>: <span class="q">"192.0.2.100"</span>,
         <span class="q">"HostPort"</span>: <span class="q">"8080"</span>
      }
    ]
 },
 <span class="q">"PublicIpAddress"</span>: <span class="q">"192.0.2.100"</span>
...</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Vai a controllare l'applicazione web attiva e in esecuzione. Incolla l'indirizzo IP pubblico associato
in un browser web, compresa la porta.</span> <pre class="codeblock"><code>http://<var class="keyword varname">192.0.2.100</var>:8080</code></pre>
 <p><img src="images/lets-chat_screenshot.jpg" alt="Accedi all'applicazione web Let's Chat."></p>
</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Crea un account in Let's Chat e accedi per vedere la tua applicazione web in esecuzione in IBM Containers.</span> <p><img src="images/lets-chat-room.png" alt="room lets-chat"></p>
</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Arresta tutti i tuoi contenitori.</span> Se non vuoi che i tuoi contenitori consumino risorse, puoi arrestarli e rimuoverli. <pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> stop <var class="keyword varname">lets-chat</var> <var class="keyword varname">lc-mongo</var></code></pre>


<pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> rm <var class="keyword varname">lets-chat</var> <var class="keyword varname">lc-mongo</var></code></pre>
</li>
</ol>
<div class="section result" id="container_gettingstarted_tutorial_lesson_3__quiz">Verifica la tua conoscenza! Ora che hai completato l'esercitazione,
<a href="http://bluemix-quizzes.mybluemix.net/containers/single_containers_gettingstarted_tutorial/quiz.php" rel="external" target="_blank" title="(Aprire in una nuova scheda o finestra)">fai un quiz per vedere cosa hai imparato</a>.</div><div class="section postreq"><div class="p"> Con cosa procedi ora? Esistono molte altre funzioni <span class="keyword">IBM
Bluemix Container Service</span> che puoi applicare a questa esercitazione:<ul><li>Prova sostituendo i contenitori singoli con <a href="container_ha.html#container_group_ui" title="Crea e distribuisci il contenitore di gruppi scalabili dalla GUI Bluemix. Un gruppo di contenitori include due o più contenitori che eseguono la stessa immagine. Utilizza i gruppi di contenitori per l'esecuzione dei servizi a lungo termine con i carichi di lavoro che richiedono scalabilità e affidabilità o per la verifica alla scala richiesta.">gruppi di contenitori ad elevata disponibilità</a>
e abilita il ripristino automatico con le sostituzioni automatiche dei contenitori non disponibili</li>
<li>Crea e monta i <a href="container_volumes_ov.html#container_volumes_ui" title="Un volume è un'ubicazione di archiviazione persistente per i dati creati da un'applicazione o per i file che l'applicazione richiede di eseguire. Puoi creare un volume per il tuo contenitore dalla GUI Bluemix.">volumi di
archiviazione</a> nei tuoi contenitori mongo e lets-chat in modo che i dati del contenitore possano essere conservati
tra più riavvii del contenitore e vi si possa accedere da più contenitori nella tua rete privata</li>
<li>Rivedi le tue immagini nel <a href="va/va_index.html#va_reviewing">Controllo vulnerabilità</a>, che ti aiuta
a tenere al
sicuro la tua organizzazione eseguendo la scansione delle immagini nel tuo registro per rilevare potenziali vulnerabilità</li>
</ul>
… e altro ancora. Inizia oggi.</div>
</div></div>
</article></article><article class="topic tutorial tutorialIntro nested1" role="article" aria-labelledby="d75716e3822" lang="it-it" id="container_compose_intro"><h2 class="topictitle2" id="d75716e3822">Esercitazione: creazione di una distribuzione con più contenitori con Docker Compose e <span class="keyword">IBM
Bluemix Container Service</span></h2>
<div class="body  tutorialIntroBody"><p class="shortdesc">Se hai delle applicazioni con più componenti, come database, servizi e cache,
organizzare tutti i contenitori in modo che vengano avviati e arrestati contemporaneamente può essere complicato. In questa
esercitazione, imparerai come fare a distribuire ed eseguire la tua applicazione come una distribuzione con più contenitori in un'architettura
di microservizi utilizzando un singolo comando Docker Compose. Ogni contenitore che fa parte di questo sistema è basato
su una definizione di servizio Docker Compose e viene eseguito in un suo ambiente isolato. </p>
<section class="section learningObjectives tutorialLearningObjectives" role="region" aria-labelledby="d75716e3882"><h3 class="sectiontitle" id="d75716e3882">Scenario</h3>Questa esercitazione
illustra il modo in cui gli sviluppatori di software possono utilizzare Docker Compose e <span class="keyword">IBM
Bluemix Container Service</span>
per distribuire una distribuzione con più contenitori che esegue l'applicazione web Lets-Chat che è collegata a un database Mongo e a un
programma di bilanciamento del carico nginx che bilancia il traffico utente in entrata. <div class="p"><figure class="fignone" id="container_compose_intro__fig_compose"><figcaption>Figura 2. Scenario di destinazione per la tua applicazione con più contenitori Lets-Chat</figcaption><a href="../api/content/containers/images/container_compose_tutorial.png" rel="external" target="_blank" title="(Aprire in una nuova scheda o finestra)"><div class="image"><img src="images/container_compose_tutorial.png" width="700" alt="Scenario di destinazione per la tua applicazione Lets-Chat con più contenitori"></div></a></figure>
</div>
<div class="p">Svolgerai le seguenti lezioni.<dl><dt class="dlterm"><a href="container_single_ui.html#container_compose_config" title="Configura innanzitutto ciascun servizio della tua distribuzione con più contenitori in un file YAML denominato docker-compose.yml. Per ciascun servizio, specifica l'immagine, le porte da esporre nonché i collegamenti ad altri servizi nel sistema.">Lezione
1: configura la tua distribuzione con più contenitori</a></dt>
<dd>Definisci i servizi per la tua applicazione web Lets-Chat e il database Mongo in un file
di configurazione denominato <span class="ph filepath">docker-compose.yml</span>. </dd>
<dt class="dlterm"><a href="container_single_ui.html#container_compose_run" title="Procedi quindi alla distribuzione e all'esecuzione della tua distribuzione con più contenitori. Invece di creare e avviare i tuoi contenitori database Mongo e Lets-Chat separatamente e di collegarli tra di loro manualmente, utilizzi un singolo comando Docker Compose che crea i tuoi contenitori in base alla definizione del servizio nel tuo file docker-compose.yml.">Lezione 2: esegui la
tua distribuzione con più contenitori</a></dt>
<dd>Esegui la tua applicazione Lets-Chat su una distribuzione con più contenitori e accedi a essa da Internet utilizzando
un singolo comando Docker Compose. </dd>
<dt class="dlterm"><a href="container_single_ui.html#container_compose_scale" title="Con la tua distribuzione con più contenitori ora in esecuzione, aumenta il numero di istanze del contenitore Lets-Chat per rendere più affidabile la tua applicazione.">Lezione 3:
esegui il ridimensionamento della tua distribuzione con più contenitori</a></dt>
<dd>Rendi la tua applicazione web Lets-Chat più affidabile aumentando il numero di istanze del contenitore. </dd>
<dt class="dlterm"><a href="container_single_ui.html#container_compose_loadbalance" title="Per rispondere a un carico di lavoro più elevato, aggiungi un programma di bilanciamento del carico nginx alla tua distribuzione con più contenitori che bilancia il traffico utente in entrata tra le tue istanze del contenitore Lets-Chat.">Lezione 4: aggiungi un programma di bilanciamento del carico alla tua distribuzione con più contenitori</a></dt>
<dd>Rispondi a un carico di lavoro maggiore durante l'orario lavorativo aggiungendo un programma di bilanciamento del carico nginx alla tua distribuzione con
più contenitori che bilancia il traffico di rete in entrata tra le tue istanze del contenitore Lets-Chat.</dd>
<dt class="dlterm"><a href="container_single_ui.html#container_compose_remove" title="Come ultimo passo, rimuovi la distribuzione con più contenitori per rilasciare le risorse utilizzate e massimizzare l'uso della tua quota.">Lezione 5: rimuovi la tua distribuzione con più contenitori</a></dt>
<dd>Elimina la tua distribuzione con più contenitori per rilasciare le risorse utilizzate e massimizzare l'utilizzo della
tua quota.</dd>
</dl>
<div class="note tip"><span class="tiptitle">Suggerimento:</span> Se non hai dimestichezza con <span class="keyword">IBM
Bluemix Container Service</span>, consulta l'<a href="container_single_ui.html#container_gettingstarted_tutorial" title="IBM Bluemix ti consente di eseguire contenitori Docker nel cloud pubblico. Utilizza i contenitori per distribuire applicazioni web sicure e complete che vengono eseguite indipendentemente dal sistema operativo host. I contenitori sono leggeri e non richiedono molte risorse di sistema poiché utilizzano lo stesso kernel di sistema e, pertanto, possono essere eseguiti in modo più efficiente rispetto a una macchina virtuale. Questa esercitazione illustra come creare un'applicazione web di messaggistica utilizzando i contenitori Docker in Bluemix. Durante la procedura, scriverai un Dockerfile, aggiungerai immagini Docker al tuo registro delle immagini Bluemix privato e collegherai tra di loro i contenitori.">esercitazione introduttiva</a>
e le differenze tra <a href="container_ov.html#container_docker_ov" title="IBM Bluemix Container Service è un runtime Bluemix che si avvale della tecnologia Docker. Gli utenti Docker esistenti, e i nuovi utenti di Docker, possono aspettarsi le seguenti funzionalità con IBM Bluemix Container Service.">Docker e IBM Containers</a>.</div>
</div>
<p>Per ulteriori informazioni su Docker Compose,
esamina le <a href="container_single_ui.html#container_compose_faq" title="Rivedi queste domande frequenti (FAQ) su Docker Compose.">Domande frequenti (FAQ) per Docker Compose</a> e la <a href="container_cli_reference_cfic.html#container_cli_reference_docker-compose" title="Fai riferimento a questi comandi per eseguire e gestire la tua distribuzione con più contenitori con il plug-in IBM Bluemix Container Service (bx ic).">Guida di riferimento ai comandi di Docker Compose</a>. </p>
</section>
<section class="section timeRequired tutorialTimeRequired" role="region" aria-labelledby="d75716e4031"><h3 class="sectiontitle" id="d75716e4031">Tempo richiesto</h3>45 minuti</section>
<section role="region" aria-labelledby="d75716e4035" class="section section prerequisites"><h3 class="sectiontitle" id="d75716e4035">Prerequisiti</h3>
<a href="container_cli_cfic_install.html#container_cli_compose_install" title="Per avviare e arrestare più singoli contenitori in una sola volta, è possibile installare la CLI di Docker Compose.">Installa la, </a> oppure <a href="container_cli_cfic_install.html#container_cli_compose_upgrade" title="Potresti aver bisogno di aggiornare la versione del tuo pacchetto Docker Compose per utilizzare le ultime funzioni.">esegui l'upgrade alla</a>, versione più recente del pacchetto software Docker Compose sul tuo computer. </section></div>
<article class="topic task tutorialLesson nested2" role="article" aria-labelledby="d75716e4049" lang="it-it" id="container_compose_config"><h3 class="topictitle3" id="d75716e4049">Lezione 1: configurazione della tua distribuzione con più contenitori</h3>
<div class="body taskbody"><p class="shortdesc">Configura innanzitutto ciascun servizio della tua distribuzione con più contenitori
in un file YAML denominato <span class="ph filepath">docker-compose.yml</span>. Per ciascun servizio, specifica l'immagine,
le porte da esporre nonché i collegamenti ad altri servizi nel sistema. </p>
<div class="section prereq">Prima di iniziare, esamina la seguente procedura. <ul><li>Esegui <samp class="ph codeph"><span class="ph"><samp class="ph codeph">bx ic</samp></span> namespace-get</samp> per
richiamare le informazioni sullo spazio dei nomi e memorizzare tali informazioni in una variabile di
ambiente denominata <var class="keyword varname">$tuo_spaziodeinomi</var>.
<pre class="codeblock"><code><var class="keyword varname">$tuo_spaziodeinomi</var>=&lt;informazioni_sul_mio_spazio_dei_nomi&gt;</code></pre>
</li>
<li>Crea <a href="container_single_ui.html#container_gettingstarted_tutorial_lesson_2" title="In questa lezione, utilizzi due metodi per aggiungere immagini al tuo registro delle immagini privato: copia di un'immagine da Docker Hub e creazione di un Dockerfile. La creazione di un tuo Dockerfile ti consente di aggiungere dei tuoi comandi a un'immagine. Pertanto, ogni contenitore avviato da tale immagine contiene tali comandi. Uno dei vantaggi dei contenitori consiste nel fatto che tali immagini ti aiutano a mantenere il controllo del codice sorgente in modo che tutti nella tua organizzazione possano creare dei contenitori con un ambiente operativo congruente.">l'immagine contenitore MongoDB e Lets-Chat</a> nel
tuo registro delle immagini <span class="keyword">Bluemix</span> privato.</li>
</ul>
</div><ol class="steps"><li class="step stepexpand"><span class="cmd">Crea una directory di progetto Docker Compose denominata <var class="keyword varname">composetutorial</var> sul
tuo computer dove puoi salvare il file di configurazione di Docker Compose e accedi a
questa directory.</span> Hai bisogno di trovarti in questa directory nel momento in cui esegui i comandi Docker Compose
in modo che il tuo file di configurazione possa essere trovato. Altrimenti, riceverai un messaggio di errore dal daemon Docker. Per ridurre
i tempi di distribuzione, non scegliere una directory che contiene directory secondarie perché tutti
i file vengano inviati al daemon Docker al runtime.

<pre class="codeblock"><code>mkdir <var class="keyword varname">composetutorial</var> &amp;&amp; cd <var class="keyword varname">composetutorial</var></code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Crea un file <span class="ph filepath">docker-compose.yml</span>.</span> Puoi creare un file di configurazione utilizzando il tuo editor CLI preferito o un editor di testo
sul tuo computer. Il seguente esempio mostra come creare un file <span class="ph filepath">docker-compose.yml</span>
con i <a href="http://www.nano-editor.org/dist/v2.2/nano.html" rel="external" target="_blank" title="(Aprire in una nuova scheda o finestra)">nano editor</a>. 
<ol type="a"><li>Apri l'editor nano e immetti <span class="ph filepath">docker-compose.yml</span> come tuo nome file.<pre class="codeblock"><code>nano <span class="ph filepath">docker-compose.yml</span></code></pre>
</li>
<li>Definisci i servizi per la tua distribuzione con più contenitori che esegue l'applicazione Lets-Chat. Puoi immettere dei commenti utilizzando <var class="keyword varname">#</var>.
<pre class="codeblock"><code>#Il nome del tuo servizio Lets-Chat. 
#Il primo contenitore avviato per questo servizio è denominato:
#<span class="ph filepath">composetutorial_lets-chat_1</span>
lets-chat: 
  #L'immagine contenitore utilizzata per eseguire il servizio lets-chat. 
  #Utilizza il percorso completo al tuo registro delle immagini Bluemix privato.
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">$tuo_spaziodeinomi</var>/lets-chat  
  #Immetti un indirizzo IP pubblico e la porta 8080. Esegui <samp class="ph codeph"><span class="ph"><samp class="ph codeph">bx ic</samp></span> ips</samp>
  #per elencare gli indirizzi IP pubblici disponibili nel tuo spazio. 
  #Opzione 1: Se non hai un indirizzo IP pubblico 
  #che puoi utilizzare, puoi richiederne uno nuovo nel seguente modo: 
  #ports:
  #- "request:8080:8080". 
  #Opzione 2: Se vuoi associare un indirizzo IP pubblico dopo che il tuo contenitore Lets-Chat
  #è stato creato utilizzando il comando <samp class="ph codeph"><span class="ph"><samp class="ph codeph">bx ic</samp></span> ip-bind</samp>, immetti quanto segue:
  #ports:
  #- "8080"
  #Opzione 3: Bind di un indirizzo IP pubblico direttamente nel tuo contenitore Consente-Chat
  #ports: 
  #- "<var class="keyword varname">YOUR_PUBLIC_IP_ADDRESS</var>:8080:8080"
  #Scegli una delle opzioni di porta descritte. 
  ports:
   - "<var class="keyword varname">SELECT_YOUR_PORT_OPTION</var>"
  #Il servizio lets-chat viene collegato al servizio mongo. 
  links: 
    - mongo
#Il nome del tuo servizio database Mongo. 
#Il primo contenitore avviato per questo servizio è denominato:
#<span class="ph filepath">composetutorial_mongo_1</span>
mongo:
  #L'immagine contenitore utilizzata per eseguire il servizio mongo. 
  #Utilizza il percorso completo al tuo registro delle immagini Bluemix privato.
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">$tuo_spaziodeinomi</var>/mongo
  #La porta contenitore 27017 è pubblicata all'interno della tua rete di contenitori privata. 
  #Se un'istanza del contenitore vuole inviare messaggi a un contenitore mongo, 
  #le richieste devono essere inviate a questa porta. 
  expose:
    - "27017"</code></pre>
<div class="note tip"><span class="tiptitle">Suggerimento:</span>  Quando crei il tuo proprio file <span class="ph filepath">docker-compose.yml</span>, aggiungi almeno un nome del servizio
e il link all'immagine del contenitore che desideri utilizzare, in modo che il comando <samp class="ph codeph">docker-compose up</samp>
possa creare il contenitore dal tuo file di configurazione.</div>
<div class="steps note"><span class="notetitle">Nota:</span> <span class="keyword">IBM
Bluemix Container Service</span> supporta solo la versione 1
del formato file <span class="ph filepath">docker-compose.yml</span>. La versione 2 non è al momento supportata. Consulta il
<a href="https://docs.docker.com/compose/compose-file/compose-file-v1/" rel="external" target="_blank" title="(Aprire in una nuova scheda o finestra)">riferimento Docker compose file version 1</a> per trovare altri esempi su come creare il tuo file
<span class="ph filepath">docker-compose.yml</span>.</div>
</li>
<li>Salva le tue modifiche premendo <span class="ph uicontrol">ctrl + o</span>. Conferma le tue modifiche premendo
<span class="ph uicontrol">INVIO</span>. </li>
<li>Esci dall'editor nano premendo <span class="ph uicontrol">ctrl + x</span>.</li>
</ol>
</li>
</ol>
<div class="section result">Congratulazioni. Sei ora pronto a <a href="container_single_ui.html#container_compose_run" title="Procedi quindi alla distribuzione e all'esecuzione della tua distribuzione con più contenitori. Invece di creare e avviare i tuoi contenitori database Mongo e Lets-Chat separatamente e di collegarli tra di loro manualmente, utilizzi un singolo comando Docker Compose che crea i tuoi contenitori in base alla definizione del servizio nel tuo file docker-compose.yml.">distribuire la tua distribuzione con più contenitori
che esegue l'applicazione Lets-Chat app</a> con <span class="keyword">IBM
Bluemix Container Service</span> e Docker Compose. </div></div>
</article><article class="topic task tutorialLesson nested2" role="article" aria-labelledby="d75716e4277" lang="it-it" id="container_compose_run"><h3 class="topictitle3" id="d75716e4277">Lezione 2: esecuzione della tua distribuzione con più contenitori</h3>
<div class="body taskbody"><p class="shortdesc">Procedi quindi alla distribuzione e all'esecuzione della tua distribuzione con più contenitori. Invece di
creare e avviare i tuoi contenitori database Mongo e Lets-Chat separatamente e di collegarli tra di loro manualmente,
utilizzi un singolo comando Docker Compose che crea i tuoi contenitori in base alla definizione del servizio
nel tuo file <span class="ph filepath">docker-compose.yml</span>. </p>
<ol class="steps"><li class="step stepexpand"><span class="cmd">Se non lo hai ancora fatto, <a href="container_cli_cfic_install.html#container_cli_login__option2_li">accedi al plug-in
IBM Containers</a> e configura la tua CLI per eseguire i comandi Docker nativi. </span></li>
<li class="step stepexpand"><span class="cmd">Vai alla directory dove si trova il tuo file <span class="ph filepath">docker-compose.yml</span>.</span> Per eseguire i comandi Docker Compose, devi trovarti nella directory dove è memorizzato
il tuo file <span class="ph filepath">docker-compose.yml</span>. </li>
<li class="step stepexpand"><span class="cmd">Distribuisci ed esegui la tua distribuzione con più contenitori sulla base della definizione del
servizio nel tuo file <span class="ph filepath">docker-compose.yml</span>. </span> In <span class="keyword">IBM
Bluemix Container Service</span>, la maggior parte dei servizi
e delle applicazioni consiste in attività a lunga esecuzione. Per tale motivo, utilizza l'opzione <samp class="ph codeph">-d</samp>
per evitare di restare bloccato nell'output della console dei tuoi contenitori senza via d'uscita.

<pre class="codeblock"><code>docker-compose up -d</code></pre>
 Se utilizzi l'opzione <samp class="ph codeph">-d</samp>, puoi ancora tenere traccia delle
tue istanze del contenitore poiché i loro nomi sono visualizzati nella CLI dopo la loro creazione.

<pre class="codeblock"><code>$ docker-compose up -d

Creating composetutorial_mongo_1
Creating composetutorial_lets-chat_1</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Verifica che i contenitori della tua distribuzione con più contenitori siano in esecuzione.</span> <pre class="codeblock"><code>docker-compose ps  </code></pre>
Appena le tue istanze del contenitore saranno in esecuzione, verrà visualizzato
uno stato <span class="ph uicontrol">Up</span>. Questo processo può richiedere qualche minuto. Il tuo output
sarà simile al seguente:

<pre class="codeblock"><code>$ docker-compose ps

        Name                   Command      State             Ports             
-----------------------------------------------------------------------
composetutorial_lets-chat_1                  Up      192.0.2.100:8080-&gt;8080/tcp    
composetutorial_mongo_1                    Up      203.0.113.23:27017-&gt;27017/tcp</code></pre>
</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Se non hai configurato un indirizzo IP nel tuo file <span class="ph filepath">docker-compose.yml</span>,
associa un indirizzo IP pubblico disponibile al tuo contenitore Lets-Chat. </span> Esegui <samp class="ph codeph"><span class="ph"><samp class="ph codeph">bx ic</samp></span> ips</samp> per elencare
gli indirizzi IP pubblici disponibili nel tuo spazio oppure <samp class="ph codeph"><span class="ph"><samp class="ph codeph">bx ic</samp></span> ip-request</samp> per richiedere
un nuovo indirizzo IP pubblico. Sostituisci <var class="keyword varname">&lt;indirizzo_IP&gt;</var> con il tuo indirizzo IP pubblico.

<pre class="codeblock"><code><span class="ph"><samp class="ph codeph">bx ic</samp></span> ip-bind <var class="keyword varname">&lt;indirizzo_IP&gt;</var> composetutorial_lets-chat_1</code></pre>
</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Aspetta che venga completata l'associazione dell'indirizzo IP al contenitore. </span> Questo processo può richiedere qualche minuto. Appena è completata, nella tua CLI viene visualizzato un messaggio <span class="ph uicontrol">OK</span>. </li>
<li class="step stepexpand"><span class="cmd">Accedi alla tua applicazione Lets-Chat da Internet.</span> <ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="cmd">Apri il tuo browser web.</span></li>
<li class="li substep substepexpand"><span class="cmd">Immetti il tuo indirizzo IP pubblico e la porta pubblica 8080 di Lets-Chat nel browser web come mostrato in questo esempio: <samp class="ph codeph">192.0.2.100:8080</samp>. </span> La pagina di accesso di Lets-Chat viene visualizzata nel tuo browser web. 
<p><img src="images/lets-chat_screenshot.jpg" alt="Accedi all'applicazione web Let's Chat."></p>
</li>
</ol>
</li>
</ol>
<div class="section result">Fantastico. La tua applicazione Lets-Chat è ora pronta per l'uso. Crea pure un account Lets-Chat ed esplora le funzionalità della tua applicazione Per rendere la tua applicazione Lets-Chat più affidabile, <a href="container_single_ui.html#container_compose_scale" title="Con la tua distribuzione con più contenitori ora in esecuzione, aumenta il numero di istanze del contenitore Lets-Chat per rendere più affidabile la tua applicazione."> incrementa le tue istanze del contenitore Lets-Chat</a>. </div></div>
</article><article class="topic task tutorialLesson nested2" role="article" aria-labelledby="d75716e4455" lang="it-it" id="container_compose_scale"><h3 class="topictitle3" id="d75716e4455">Lezione 3: ridimensionamento della tua distribuzione con più contenitori</h3>
<div class="body taskbody"><p class="shortdesc">Con la tua distribuzione con più contenitori ora in esecuzione, aumenta il numero di istanze del contenitore Lets-Chat per rendere più affidabile la tua applicazione.</p>
<div class="section context"></div><ol class="steps"><li class="step stepexpand"><span class="cmd">Aggiorna il tuo file <span class="ph filepath">docker-compose.yml</span>.</span> Puoi eseguire il ridimensionamento solo dei servizi che non espongono una porta pubblica poiché tutte le istanze del
contenitore avviate per questo servizio proverebbero a utilizzare la stessa porta. Poiché hai definito la porta 8080 perché
venga esposta pubblicamente per il servizio Lets-Chat nella lezione precedente, devi modificare questa impostazione
nel file <span class="ph filepath">docker-compose.yml</span>.<ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="cmd">Apri il tuo <span class="ph filepath">docker-compose.yml</span></span> <pre class="codeblock"><code>nano <span class="ph filepath">docker-compose.yml</span></code></pre>
</li>
<li class="li substep substepexpand"><span class="cmd">Sostituisci il parametro <span class="ph uicontrol">ports</span> con <span class="ph uicontrol">expose</span> nella definizione
del servizio Lets-Chat ed elimina l'indirizzo IP pubblico. </span> Il parametro expose pubblica una porta solo nella tua rete di contenitori privata. La tua definizione del servizio Lets-Chat sarà simile alla seguente.
<pre class="codeblock"><code>lets-chat: 
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">$tuo_spaziodeinomi</var>/lets-chat 
  expose:
   - "8080" 
  links: 
    - mongo</code></pre>
</li>
<li class="li substep substepexpand"><span class="cmd">Salva le tue modifiche premendo <span class="ph uicontrol">ctrl + o</span>. Conferma le tue modifiche premendo
<span class="ph uicontrol">INVIO</span>. </span></li>
<li class="li substep substepexpand"><span class="cmd">Esci dall'editor nano premendo <span class="ph uicontrol">ctrl + x</span>.</span></li>
</ol>
</li>
<li class="step stepexpand"><span class="cmd">Ricrea la tua distribuzione con più contenitori. Utilizza l'opzione <samp class="ph codeph">--force-recreate</samp> per ricreare
tutte le istanze nella tua distribuzione. </span> <pre class="codeblock"><code>docker-compose up -d --force-recreate</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Ingrandisci il tuo servizio Lets-Chat s 2 istanze del contenitore. </span> Con il seguente comando, <span class="keyword">IBM
Bluemix Container Service</span> crea automaticamente una nuova istanza
del contenitore Lets-Chat basata sulla definizione del servizio nel tuo file <span class="ph filepath">docker-compose.yml</span>.
<div class="steps note"><span class="notetitle">Nota:</span> Se riduci il numero di istanze del contenitore, <span class="keyword">IBM
Bluemix Container Service</span> arresta e rimuove
automaticamente le istanze del contenitore supplementari dalla distribuzione con più contenitori.</div>

<pre class="codeblock"><code>docker-compose scale lets-chat=2</code></pre>
Il tuo output CLI si presenta così.

<pre class="codeblock"><code>$ docker-compose scale lets-chat=2

Creating and starting composetutorial_lets-chat_2 ... done</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Ricrea la tua distribuzione con più contenitori per collegare la tua nuova istanza del contenitore.</span> Docker Compose attualmente non supporta il collegamento/scollegamento del collegamento automatico, ecco perché
devi utilizzare l'opzione <samp class="ph codeph">--force-recreate</samp> per ricreare tutte le istanze del contenitore nella
tua distribuzione con più contenitori. 
<pre class="codeblock"><code>docker-compose up -d --force-recreate</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Verifica che l'istanza del contenitore Mongo si stata collegata alle istanze del contenitore Lets-Chat. </span> <pre class="codeblock"><code>docker inspect composetutorial_lets-chat_1</code></pre>

<pre class="codeblock"><code>docker inspect composetutorial_lets-chat_2</code></pre>
Puoi
esaminare l'istanza del contenitore Mongo collegata nella sezione <var class="keyword varname">HostConfig &gt; Links</var> di ciascuna
delle tue risposte.
<pre class="codeblock"><code>...
"HostConfig": {
        "Binds": [],
        "CapAdd": [],
        "CapDrop": [],
        "ContainerIDFile": "",
        "Links": [
            "composetutorial_mongo_1:mongo",
            "composetutorial_mongo_1:composetutorial_mongo_1",
            "composetutorial_mongo_1:composetutorial_mongo_1"
        ],
        "LogConfig": {
            "Config": {},
            "Type": "json-file"
        },
        "LxcConf": [],
        "PortBindings": {
            "8080/tcp": [
                {
                    "HostPort": "8080"
                }
            ]
        },
        "Privileged": false,
        "PublishAllPorts": false
    },
...</code></pre>
</li>
</ol>
<div class="section result">Ottimo. Hai ingrandito correttamente il tuo servizio Lets-Chat e hai reso più affidabile la tua applicazione. Per poter rispondere a un traffico utente più elevato,
<a href="container_single_ui.html#container_compose_loadbalance" title="Per rispondere a un carico di lavoro più elevato, aggiungi un programma di bilanciamento del carico nginx alla tua distribuzione con più contenitori che bilancia il traffico utente in entrata tra le tue istanze del contenitore Lets-Chat.">aggiungi un programma di bilanciamento del carico nginx</a>
alla tua distribuzione con più contenitori per bilanciare il carico di lavoro tra le tue istanze del contenitore Lets-Chat. </div></div>
</article><article class="topic task tutorialLesson nested2" role="article" aria-labelledby="d75716e4643" lang="it-it" id="container_compose_loadbalance"><h3 class="topictitle3" id="d75716e4643">Lezione 4: aggiunta di un programma di bilanciamento del carico alla tua distribuzione con più contenitori</h3>
<div class="body taskbody"><p class="shortdesc">Per rispondere a un carico di lavoro più elevato, aggiungi un programma di bilanciamento del carico nginx alla tua distribuzione con più contenitori
che bilancia il traffico utente in entrata tra le tue istanze del contenitore Lets-Chat. </p>
<ol class="steps"><li class="step stepexpand"><span class="cmd">Configura il tuo programma di bilanciamento del carico <span class="ph uicontrol">nginx</span>.</span> <ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="cmd">Crea un file di configurazione <span class="ph filepath">nginx.conf</span>.</span> <pre class="codeblock"><code>nano <span class="ph filepath">nginx.conf</span></code></pre>
</li>
<li class="li substep substepexpand"><span class="cmd">Copia le seguenti informazioni nel tuo file di configurazione.</span> Per bilanciare il carico di lavoro tra le tue istanze del contenitore Lets-Chat, devi aggiungerle
tutte come un server upstream nel file di configurazione. In questo modo, tutte le richieste in
entrata vengono inoltrate a uno dei contenitori Lets-Chat.

<pre class="codeblock"><code>worker_processes 3;

events { worker_connections 1024; }

http {

        upstream lets-chat-app {
              ip_hash;
              server composetutorial_lets-chat_1:8080 weight=10 max_fails=3 fail_timeout=30s;
              server composetutorial_lets-chat_2:8080 weight=10 max_fails=3 fail_timeout=30s;
        }
         
        server {
              listen 80;
         
              location / {
                proxy_pass http://lets-chat-app;
                proxy_http_version 1.1;
                proxy_set_header Upgrade $http_upgrade;
                proxy_set_header Connection 'upgrade';
                proxy_set_header Host $host;
                proxy_cache_bypass $http_upgrade;
              }
        }
}</code></pre>
</li>
<li class="li substep substepexpand"><span class="cmd">Salva le tue modifiche premendo <span class="ph uicontrol">ctrl + o</span>. Conferma le tue modifiche premendo
<span class="ph uicontrol">INVIO</span>. </span></li>
<li class="li substep substepexpand"><span class="cmd">Esci dall'editor nano premendo <span class="ph uicontrol">ctrl + x</span>.</span></li>
</ol>
</li>
<li class="step stepexpand"><span class="cmd">Crea un'immagine <span class="ph uicontrol">nginx</span> nel tuo registro delle immagini <span class="keyword">Bluemix</span> privato.</span> <ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="cmd">Crea un Dockerfile.</span> <pre class="codeblock"><code>Dockerfile nano</code></pre>
</li>
<li class="li substep substepexpand"><span class="cmd">Copia le seguenti informazioni nel tuo Dockerfile. </span> L'immagine che hai creato in base all'immagine <span class="ph uicontrol">nginx</span> pubblica
fornita da Dockerhub. Per applicare le impostazioni personalizzate da te specificate nel passo
precedente, copia il file <span class="ph filepath">nginx.conf</span> nell'ubicazione del file di configurazione <span class="ph uicontrol">nginx</span>
utilizzando il comando <samp class="ph codeph">COPY</samp>.
<pre class="codeblock"><code>#Uses the public nginx image available on Dockerhub.
FROM nginx
#Copies your custom <span class="ph filepath">nginx.conf</span> file into the nginx configuration file location.
COPY nginx.conf /etc/nginx/nginx.conf</code></pre>
</li>
<li class="li substep substepexpand"><span class="cmd">Salva le tue modifiche premendo <span class="ph uicontrol">ctrl + o</span>. Conferma le tue modifiche premendo
<span class="ph uicontrol">INVIO</span>. </span></li>
<li class="li substep substepexpand"><span class="cmd">Esci dall'editor nano premendo <span class="ph uicontrol">ctrl + x</span>.</span></li>
<li class="li substep substepexpand"><span class="cmd">Genera la tua immagine <span class="ph uicontrol">nginx</span> e inseriscila nel tuo registro delle immagini <span class="keyword">Bluemix</span> privato. </span> <pre class="codeblock"><code>docker build -t registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">$tuo_spaziodeinomi</var>/nginx .</code></pre>

Il tuo output della CLI sarà simile al seguente:

<pre class="codeblock"><code>Sending build context to Docker daemon 9.728 kB
Step 1 : FROM nginx
 ---&gt; 6f62f48c4e55
Step 2 : COPY nginx.conf /etc/nginx/nginx.conf
 ---&gt; bc40817f0593
Removing intermediate container 64c5e180943f
Successfully built bc40817f0593
The push refers to a repository [registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">$tuo_spaziodeinomi</var>/nginx] (len: 1)
bc40817f0593: Pushed 
6f62f48c4e55: Pushed 
50ed65ac2e2d: Pushed 
fed44c33bce9: Pushed 
73e8d4f6bf84: Pushed 
latest: digest: sha256:99587168cbf699b32804c4ff0de610460dfa150120b12385b194c2f9236903f5 size: 15270</code></pre>
</li>
</ol>
</li>
<li class="step stepexpand"><span class="cmd">Aggiungi la definizione del servizio <span class="ph uicontrol">nginx</span> al tuo file
<span class="ph filepath">docker-compose.yml</span>. </span> <ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="cmd">Apri il tuo file <span class="ph filepath">docker-compose.yml</span>. </span> <pre class="codeblock"><code>nano <span class="ph filepath">docker-compose.yml</span></code></pre>
</li>
<li class="li substep substepexpand"><span class="cmd">Copia le seguenti informazioni nel tuo <span class="ph filepath">docker-compose.yml</span>. Sostituisci
<var class="keyword varname">IP_ADDRESS</var> con l'indirizzo IP pubblico che vuoi utilizzare per accedere al tuo
programma di bilanciamento del carico <span class="ph uicontrol">nginx</span>. </span> <pre class="codeblock"><code>nginx:
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">$tuo_spaziodeinomi</var>/nginx  
  ports:
   - "<var class="keyword varname">IP_ADDRESS</var>:80:80"
  links: 
    - lets-chat</code></pre>
Il tuo file <span class="ph filepath">docker-compose.yml</span> si presenta così.

<pre class="codeblock"><code>nginx:
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">$tuo_spaziodeinomi</var>/nginx
  ports:
   - "<var class="keyword varname">IP_ADDRESS</var>:80:80"
  links:
    - lets-chat
lets-chat:
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">$tuo_spaziodeinomi</var>/lets-chat
  expose:
   - "8080"
  links:
    - mongo
mongo:
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">$tuo_spaziodeinomi</var>/mongo
  expose:
    - "27017"</code></pre>
</li>
<li class="li substep substepexpand"><span class="cmd">Salva le tue modifiche premendo <span class="ph uicontrol">ctrl + o</span>. Conferma le tue modifiche premendo
<span class="ph uicontrol">INVIO</span>.</span></li>
<li class="li substep substepexpand"><span class="cmd">Esci dall'editor nano premendo <span class="ph uicontrol">ctrl + x</span>.</span></li>
</ol>
</li>
<li class="step stepexpand"><span class="cmd">Distribuisci la tua distribuzione con più contenitori che esegue l'applicazione Lets-Chat con il programma di bilanciamento del carico
<span class="ph uicontrol">nginx</span>. </span> <ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="cmd">Ricrea la tua distribuzione con più contenitori.</span> Utilizza l'opzione <samp class="ph codeph">--force-recreate</samp> per ricreare tutte le istanze del contenitore
nella tua distribuzione con più contenitori, in questo modo i link saranno correttamente collegati.

<pre class="codeblock"><code>docker-compose up -d --force-recreate</code></pre>
</li>
<li class="li substep substepexpand"><span class="cmd">Verifica che i contenitori siano collegati correttamente.</span> <pre class="codeblock"><code>docker inspect composetutorial_nginx_1</code></pre>
Puoi
esaminare le istanze del contenitore Lets-Chat collegate nella sezione
<var class="keyword varname">HostConfig &gt; Links</var> delle tue risposte.
<pre class="codeblock"><code>...
"HostConfig": {
        "Binds": [],
        "CapAdd": [],
        "CapDrop": [],
        "ContainerIDFile": "",
        "Links": [
            "composetutorial_lets-chat_2:composetutorial_lets-chat_2",
            "composetutorial_lets-chat_1:composetutorial_lets-chat_1",
            "composetutorial_lets-chat_1:composetutorial_lets-chat_1",
            "composetutorial_lets-chat_2:lets-chat",
            "composetutorial_lets-chat_2:composetutorial_lets-chat_2"
        ],
        "LogConfig": {
            "Config": {},
            "Type": "json-file"
        },
        "LxcConf": [],
        "PortBindings": {
            "80/tcp": [
                {
                    "HostPort": "80"
                }
            ]
        },
        "Privileged": false,
        "PublishAllPorts": false
    },
...</code></pre>
</li>
</ol>
</li>
<li class="step stepexpand"><span class="cmd">Verifica che le tue impostazioni <span class="ph filepath">nginx.config</span> personalizzate vangano applicate all'istanza del contenitore
<span class="ph uicontrol">nginx</span>.</span> <ol type="a" class="ol substeps"><li class="li substep substepexpand"><span class="cmd">Accedi al tuo contenitore <span class="ph uicontrol">nginx</span>. </span> <pre class="codeblock"><code>docker exec -it composetutorial_nginx_1 bash</code></pre>
</li>
<li class="li substep substepexpand"><span class="cmd">Esamina la configurazione dell'host. </span> <pre class="codeblock"><code>cat <span class="ph filepath">/etc/hosts</span></code></pre>
Se le tue impostazioni personalizzate sono state applicate, puoi visualizzare
le istanze del contenitore Lets-Chat collegate elencate con i loro indirizzi IP privati nel tuo output della
CLI.
<pre class="codeblock"><code>127.0.0.1	localhost
::1	localhost ip6-localhost ip6-loopback
fe00::0	ip6-localnet
ff00::0	ip6-mcastprefix
ff02::1	ip6-allnodes
ff02::2	ip6-allrouters
198.51.100.19	composetutorial_lets-chat_1
198.51.100.18	composetutorial_lets-chat_2
198.51.100.20	instance-000f2b2b
198.51.100.18	lets-chat
198.51.100.20	composetutorial-nginx-1
198.51.100.19	composetutoral_lets-chat_1
198.51.100.18	composetutorial_lets-chat_2
198.51.100.20	instance-000f2b2b</code></pre>
</li>
<li class="li substep substepexpand"><span class="cmd">Disconnettiti dal tuo contenitore immettendo <samp class="ph codeph">exit</samp> nella tua CLI. </span></li>
</ol>
</li>
</ol>
<div class="section result">Ottimo. Puoi ora bilanciare il carico di lavoro tra i tuoi contenitori Lets-Chat e rispondere a un traffico utente
più elevato. Come passo finale, puoi <a href="container_single_ui.html#container_compose_remove" title="Come ultimo passo, rimuovi la distribuzione con più contenitori per rilasciare le risorse utilizzate e massimizzare l'uso della tua quota.">eliminare
la tua distribuzione con più contenitori</a> per rilasciare le risorse inutilizzate e massimizzare l'uso della tua quota. </div></div>
</article><article class="topic task tutorialLesson nested2" role="article" aria-labelledby="d75716e4986" lang="it-it" id="container_compose_remove"><h3 class="topictitle3" id="d75716e4986">Lezione 5: rimozione della tua distribuzione con più contenitori</h3>
<div class="body taskbody"><p class="shortdesc">Come ultimo passo, rimuovi la distribuzione con più contenitori per rilasciare le risorse utilizzate e massimizzare
l'uso della tua quota. </p>
<div class="section context"><div class="note attention"><span class="attentiontitle">Attenzione:</span> l'eliminazione della tua distribuzione con più contenitori non può essere annullata. Se vuoi conservare
la configurazione per la tua distribuzione con più contenitori, non rimuovere il file <span class="ph filepath">docker-compose.yml</span>. </div>
</div><ol class="steps"><li class="step stepexpand"><span class="cmd">Arresta tutte le istanze del contenitore in esecuzione nella tua distribuzione con più contenitori. </span> <pre class="codeblock"><code>docker-compose stop</code></pre>
</li>
<li class="step stepexpand"><span class="cmd">Rimuovi tutte le istanze del contenitore nella tua distribuzione con più contenitori.</span> <pre class="codeblock"><code>docker-compose rm</code></pre>
 Durante il processo di rimozione, ti sarà richiesto
di confermare che desideri rimuovere tutte le istanze del contenitore. Conferma immettendo
<span class="ph uicontrol">y</span>.</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Verifica che tutte le istanze del contenitore vengano rimosse dal sistema di contenitori.</span> <pre class="codeblock"><code>docker-compose ps</code></pre>
</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Elimina il tuo file <span class="ph filepath">docker-compose.yml</span>.</span> <div class="note tip"><span class="tiptitle">Suggerimento:</span> Se vuoi riutilizzare il file, archivialo in un sistema di controllo del codice sorgente invece di eliminarlo.</div>


<pre class="codeblock"><code>rm <span class="ph filepath">docker-compose.yml</span></code></pre>
</li>
<li class="step stepexpand">Opzionale: <span class="cmd">Elimina la tua directory del progetto Docker Compose.</span> <pre class="codeblock"><code>cd &amp;&amp; rmdir composetutorial</code></pre>
</li>
</ol>
<div class="section result">Hai correttamente rimosso la tua distribuzione con più contenitori e hai massimizzato l'utilizzo della tua quota. </div></div>
</article><article class="topic concept nested2" role="article" aria-labelledby="d75716e5092" lang="it-it" id="container_compose_yml"><h3 class="topictitle3" id="d75716e5092">Opzioni supportate nel file <span class="ph filepath">docker-compose.yml</span></h3>
<div class="body conbody"><p class="shortdesc"></p>
<div>Rivedi le opzioni file <span class="ph filepath">docker-compose.yml</span> supportate in
<span class="keyword">IBM
Bluemix Container Service</span>.<ul><li><a href="container_single_ui.html#container_compose_yml__environment">environment</a></li>
<li><a href="container_single_ui.html#container_compose_yml__expose">expose</a></li>
<li><a href="container_single_ui.html#container_compose_yml__image">image</a></li>
<li><a href="container_single_ui.html#container_compose_yml__links">links</a></li>
<li><a href="container_single_ui.html#container_compose_yml__mem">mem_limit</a></li>
<li><a href="container_single_ui.html#container_compose_yml__ports">ports</a></li>
<li><a href="container_single_ui.html#container_compose_yml__volumes">volumes</a></li>
</ul>
</div><section role="region" aria-labelledby="d75716e5182" id="container_compose_yml__environment"><h4 class="sectiontitle" id="d75716e5182"><span class="ph"><samp class="ph codeph">environment</samp></span></h4>Utilizza il parametro
<span class="ph uicontrol">environment</span> per configurare una variabile di ambiente o eseguire il bind a un servizio o a un'applicazione <span class="keyword">Bluemix</span> al tuo servizio
Docker Compose.<div class="steps note"><span class="notetitle">Nota:</span>  Se desideri aggiungere un servizio <span class="keyword">Bluemix</span>
alla tua distribuzione con più contenitori, devi prima creare un'istanza di questo servizio nel tuo spazio. Per ulteriori informazioni, vedi <a href="container_integrations.html#container_integrations_binding" title="IBM Bluemix ha un elenco di servizi e li gestisce per conto degli sviluppatori dell'applicazione. Per aggiungere un servizio Bluemix che possa essere utilizzato dal tuo contenitore, devi richiedere un'istanza di tale servizio ed eseguire il bind del servizio al contenitore.">Esecuzione del bind di un servizio dalla GUI Bluemix</a>. 
<p>Alcuni servizi non supportano l'esecuzione del bind del servizio direttamente
in un contenitore. In questo caso, devi creare un'applicazione Cloud Foundry. Per ulteriori informazioni, vedi <a href="container_troubleshoot.html#ts_bridge_app">Il servizio Bluemix non esegue il bind direttamente per un contenitore</a>. </p>
</div>
<ul><li><span class="keyword option">Bind a un servizio Bluemix</span><p>Per eseguire il bind di un servizio, utilizza la chiave <span class="ph uicontrol">CCS_BIND_SRV</span>. Sostituisci
<var class="keyword varname">&lt;service_instance_name&gt;</var> con il nome dell'istanza del servizio che hai creato nel tuo
registro delle immagini <span class="keyword">Bluemix</span> privato.</p>
<pre class="codeblock"><code>environment: 
  - "CCS_BIND_SRV=<var class="keyword varname">&lt;service_instance_name&gt;</var>"</code></pre>
</li>
<li><span class="keyword option">Bind a un'applicazione Cloud Foundry</span><p>Per eseguire il bind di un'applicazione, utilizza la chiave <span class="ph uicontrol">CCS_BIND_APP</span>. Sostituisci
<var class="keyword varname">&lt;app_name&gt;</var> con il nome dell'applicazione Cloud Foundry che hai creato nel tuo registro delle immagini
<span class="keyword">Bluemix</span>
privato.</p>
<pre class="codeblock"><code>environment:
  - "CCS_BIND_APP=<var class="keyword varname">&lt;app_name&gt;</var>"</code></pre>
</li>
</ul>
<dl><dt class="dlterm">Esempio</dt>
<dd>Il seguente esempio mostra
un file di esempio <span class="ph filepath">docker-compose.yml</span> che esegue il bind di un'applicazione
Cloud Foundry denominata <var class="keyword varname">containerbridge</var> e aggiunge una variabile di ambiente denominata
<var class="keyword varname">tmp_folder</var> al servizio lets-chat.<pre class="codeblock"><code>#Il nome del tuo servizio
lets-chat:
  #L'immagine contenitore utilizzata per eseguire il servizio lets-chat. Sostituisci <var class="keyword varname">&lt;mio_spazionomi&gt;</var> con il nome del tuo spazio dei nomi.
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/lets-chat
  #Utilizza <span class="ph uicontrol">CCS_BIND_SRV</span> per eseguire il bind di un servizio <span class="keyword">Bluemix</span> o <span class="ph uicontrol">CCS_BIND_APP</span> per eseguire il bind di un'applicazione Cloud Foundry al tuo servizio Docker Compose. 
  environment:
   - "CCS_BIND_APP=containerbridge"
   - "tmp_folder=/tmp"</code></pre>
</dd>
</dl>
</section><section role="region" aria-labelledby="d75716e5301" id="container_compose_yml__expose"><h4 class="sectiontitle" id="d75716e5301"><span class="ph"><samp class="ph codeph">expose</samp></span></h4>Espone le porte solo nella rete
privata. Questa porta è accessibile a tutti i servizi collegati.<dl><dt class="dlterm">Esempio</dt>
<dd>Il seguente esempio mostra
un file di esempio <span class="ph filepath">docker-compose.yml</span> che espone la porta 8080 solo nella rete privata. Il contenitore mongo collegato utilizza questa porta
per inviare richieste al contenitore lets-chat.
<pre class="codeblock"><code>lets-chat:
  #L'immagine contenitore utilizzata per eseguire il servizio lets-chat. Sostituisci <var class="keyword varname">&lt;mio_spazionomi&gt;</var> con il nome del tuo spazio dei nomi.
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/lets-chat
  #Rende una porta disponibile solo nella rete privata. 
  expose:
   - "8080"
  links:
    - mongo
mongo:
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/mongo</code></pre>
</dd>
</dl>
</section><section role="region" aria-labelledby="d75716e5333" id="container_compose_yml__image"><h4 class="sectiontitle" id="d75716e5333"><span class="ph"><samp class="ph codeph">image</samp></span></h4>Definisce un'immagine di base che desideri utilizzare
per eseguire il tuo servizio Docker Compose. L'immagine deve essere nel tuo registro <span class="keyword">Bluemix</span> privato prima che puoi utilizzarla nel file
<span class="ph filepath">docker-compose.yml</span>. <p>Per definire l'immagine, utilizza il percorso completo al tuo registro
<span class="keyword">Bluemix</span> privato nel seguente formato:
registro.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/<var class="keyword varname">&lt;image&gt;</var>:<var class="keyword varname">&lt;tag&gt;</var>.</p>
<dl><dt class="dlterm">Esempio</dt>
<dd>Il seguente esempio mostra
un file di esempio <span class="ph filepath">docker-compose.yml</span> che definisce l'immagine lets-chat come una base per il servizio lets-chat.<pre class="codeblock"><code>#Il nome del tuo servizio
lets-chat:
  #L'immagine contenitore utilizzata per eseguire il servizio lets-chat. Sostituisci <var class="keyword varname">&lt;mio_spazionomi&gt;</var> con il nome del tuo spazio dei nomi.
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/lets-chat
  </code></pre>
</dd>
</dl>
</section><section role="region" aria-labelledby="d75716e5384" id="container_compose_yml__links"><h4 class="sectiontitle" id="d75716e5384"><span class="ph"><samp class="ph codeph">links</samp></span></h4>Collega un contenitore a tutti i contenitori che
sono stati avviati da un altro servizio. I link determinano la dipendenza tra i servizi e quindi l'ordine
in cui i contenitori vengono avviati quando esegui il comando
<samp class="ph codeph">docker-compose up</samp>. Per collegare un servizio, immetti il nome del servizio. <dl><dt class="dlterm">Esempio</dt>
<dd>Il seguente esempio mostra
un file di esempio <span class="ph filepath">docker-compose.yml</span> che collegano il contenitore nginx a tutti i contenitori avviati dal servizio lets-chat.
<pre class="codeblock"><code>#Il nome del tuo servizio
nginx:
  #L'immagine contenitore utilizzata per eseguire il servizio nginx. Sostituisci <var class="keyword varname">&lt;mio_spazionomi&gt;</var> con il nome del tuo spazio dei nomi.
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/nginx
  #Immetti il nome del servizio che si desideri collegare. 
  links:
    - lets-chat
lets-chat:
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi</var>/lets-chat</code></pre>
</dd>
</dl>
</section><section role="region" aria-labelledby="d75716e5419" id="container_compose_yml__mem"><h4 class="sectiontitle" id="d75716e5419"><span class="ph"><samp class="ph codeph">mem_limit</samp></span></h4>Imposta la dimensione per la tua istanza
del contenitore. La dimensione del contenitore
definisce la quantità massima di memoria e spazio su disco di un contenitore
nell'host di calcolo durante il runtime. Dopo che una dimensione del contenitore è stata assegnata, non è
possibile modificare il valore.
<p>Scegli tra le seguenti dimensioni in <span class="keyword">IBM
Bluemix Container Service</span>. </p>
<ul data-hd-audience="yellow"><li>Pico (64 MB di memoria, 4 GB di spazio su disco)</li>
<li>Nano (128 MB di memoria, 8 GB di spazio su disco)</li>
<li>Micro (256 MB di memoria, 16 GB di spazio su disco)</li>
<li>Tiny (512 MB di memoria, 32 GB di spazio su disco)</li>
<li>Small (1024 MB di memoria, 64 GB di spazio su disco)</li>
<li>Medium (2048 MB di memoria, 128 GB di spazio su disco)</li>
<li>Large (4096 MB di memoria, 256 GB di spazio su disco)</li>
<li>X-Large (8192 MB di memoria, 512 GB di spazio su disco)</li>
<li>2X-Large (16384 MB di memoria, 1 TB di spazio su disco) </li>
</ul>
Immetti la dimensione che desideri in megabyte senza l'etichetta dell'unità <samp class="ph codeph">'M'</samp>. Se non specifichi
una dimensione, tutti i contenitori vengono creati con una dimensione <span class="ph uicontrol">micro</span> per impostazione predefinita.<dl><dt class="dlterm">Esempio</dt>
<dd>Il seguente esempio mostra
un file di esempio <span class="ph filepath">docker-compose.yml</span> che imposta la dimensione del contenitore del servizio
lets-chat su 512 megabyte.<pre class="codeblock"><code>#Il nome del tuo servizio
lets-chat:
  #L'immagine contenitore utilizzata per eseguire il servizio lets-chat. Sostituisci <var class="keyword varname">&lt;mio_spazionomi&gt;</var> con il nome del tuo spazio dei nomi.
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/lets-chat
  #Immetti la dimensione che vuoi in megabyte
  mem_limit: 512</code></pre>
</dd>
</dl>
</section><section role="region" aria-labelledby="d75716e5481" id="container_compose_yml__ports"><h4 class="sectiontitle" id="d75716e5481"><span class="ph"><samp class="ph codeph">ports</samp></span></h4>Utilizza l'opzione
<span class="ph uicontrol">ports</span> per esporre una porta pubblica per ogni contenitore avviato
per il tuo servizio. Scegli tra una delle seguenti configurazioni. <ul><li><span class="keyword option">Richiedi un indirizzo IP pubblico</span><div class="p">Questa configurazione richiede un nuovo indirizzo IP pubblico per il tuo spazio,
espone la porta 8080 al pubblico ed esegue il bind dell'indirizzo IP richiesto
al contenitore.<div class="steps note"><span class="notetitle">Nota:</span> Devi disporre di una quota di indirizzi IP pubblici sufficiente per
il tuo spazio. </div>
</div>
<pre class="codeblock"><code>ports:
  - "request:8080:8080"</code></pre>
</li>
<li><span class="keyword option">Esponi una porta pubblica</span><p>Con questa configurazione, la porta 8080 è esposta al
pubblico. Nessun indirizzo IP viene associato al contenitore. Per rendere la tua applicazione accessibile da internet, viene creato il
<a href="container_single_ui.html#container_cli_ips" title="Richiesta e associazione di un indirizzo IP pubblico a un contenitore in Bluemix.">bind a un indirizzo IP pubblico</a>
dopo il contenitore. </p>
<pre class="codeblock"><code>ports:
  - "8080"</code></pre>
</li>
<li><span class="keyword option">Bind di un indirizzo IP pubblico esistente</span><div class="p">Con questa configurazione, la porta 8080 è esposta al
pubblico e un indirizzo IP pubblico esistente viene automaticamente associato al contenitore
dopo la sua creazione. <div class="steps note"><span class="notetitle">Nota:</span> L'indirizzo IP che utilizzi deve essere allocato nel tuo spazio a disponibile
per l'utilizzo. Se l'indirizzo IP è già associato al contenitore, devi prima <a href="container_single_ui.html#container_cli_ips_unbind" title="Puoi annullare il bind di un indirizzo IP pubblico a un contenitore, ma tale indirizzo IP sarà comunque disponibile per gli altri contenitori e conteggiato nella quota di indirizzi IP della tua organizzazione.">annullarne l'associazione</a>.</div>
</div>
<pre class="codeblock"><code>ports:
  - "<var class="keyword varname">IP_ADDRESS</var>:8080:8080"</code></pre>
</li>
</ul>
</section><section role="region" aria-labelledby="d75716e5533" id="container_compose_yml__volumes"><h4 class="sectiontitle" id="d75716e5533"><span class="ph"><samp class="ph codeph">volumes</samp></span></h4>Utilizza
il parametro <span class="ph uicontrol">volumes</span> per aggiungere un volume esistente al tuo servizio. <div class="steps note"><span class="notetitle">Nota:</span> Hai prima bisogno
di creare un volume prima di poterlo aggiungere alla definizione del servizio nel file
<span class="ph filepath">docker-compose.yml</span>. Per ulteriori informazioni, fai riferimento all'argomento <a href="container_volumes_ov.html#container_volumes_cli" title="Un volume è un'ubicazione di archiviazione persistente per i dati creati da un'applicazione o per i file che l'applicazione richiede di eseguire. Puoi creare un volume per il tuo contenitore dalla riga di comando.">Creazione di volumi con la riga di comando (CLI)</a>. Per inserire i dati nel volume prima di montarlo
nel contenitore, vedi <a href="container_volumes_ov.html#container_volumes_mount" title="Dopo che hai creato un volume, puoi montarlo in un contenitore e aggiungere dei file accessibili a tutti i contenitori su cui è montato il volume.">Aggiunta di file nei volumi con l'interfaccia riga di comando (CLI)</a>.</div>
<dl><dt class="dlterm">Esempio</dt>
<dd>Di seguito è riportato un esempio di file <span class="ph filepath">docker-compose.yml</span> che aggiunge un
volume esterno denominato <var class="keyword varname">my_volume</var> al servizio lets-chat. Il volume viene montato nella cartella <span class="ph filepath">/tmp/data</span>
con accesso di lettura e scrittura.
<pre class="codeblock"><code>versione: '2'
#Il nome del tuo servizio
lets-chat:
  #immagine contenitore utilizzata per eseguire il servizio lets-chat. Sostituisci &lt;mio_spazionomi&gt; con il nome del tuo spazio dei nomi.
  image: registry.<span class="keyword" data-hd-keyref="DomainName">DomainName</span>/<var class="keyword varname">&lt;mio_spazionomi&gt;</var>/lets-chat
  #Devi creare il tuo volume prima di poterlo aggiungere.
  volumes:
   - <var class="keyword varname">mio_volume</var>:<span class="ph filepath">/tmp/data</span>:rw

#declare volume as external
volumes:
  my_volume:
    external: true</code></pre>
</dd>
</dl>
</section></div>
</article><article class="topic concept nested2" role="article" aria-labelledby="d75716e5591" lang="it-it" id="container_compose_faq"><h3 class="topictitle3" id="d75716e5591">Domande frequenti (FAQ) per Docker Compose</h3>
<div class="body conbody"><p class="shortdesc">Rivedi queste domande frequenti (FAQ) su Docker Compose.</p>
<div class="p"><dl><dt class="dlterm">Come posso configurare il mio client Docker Compose in modo che punti a un servizio IBM Containers?</dt>
<dd>Quando accedi alla CLI <span class="keyword">IBM
Bluemix Container Service</span>,
puoi scegliere di eseguire i comandi di <span class="keyword">IBM
Bluemix Container Service</span> (<span class="ph"><samp class="ph codeph">bx ic</samp></span>) o di configurare le variabili di ambiente
in modo da utilizzare i comandi Docker nativi (<samp class="ph codeph">docker</samp>). Per eseguire i comandi Docker Compose
in <span class="keyword">IBM
Bluemix Container Service</span>, devi impostare  le variabili di ambiente per eseguire
i comandi Docker nativi in <span class="keyword">IBM
Bluemix Container Service</span>. Per ulteriori informazioni, vedi <a href="container_cli_cfic_install.html#container_cli_login" title="Dopo che hai installato la CLI, esegui l'accesso per utilizzarla.">Accesso al plug-in CLI IBM Bluemix Container Service (bx ic)</a>.</dd>
<dt class="dlterm">Come posso utilizzare i gruppi di contenitori scalabili con Docker Compose?</dt>
<dd>Docker Compose non supporta il concetto il gruppo <span class="keyword">IBM
Bluemix Container Service</span>
in cui il bilanciamento del carico di lavoro tra più istanze del contenitore è già incluso. Se desideri bilanciare il carico di lavoro tra
le tue istanze del contenitore, hai bisogno di aggiungere un altro contenitore che esegue il tuo programma di bilanciamento del carico e lo collega
alle tue istanze del contenitore. </dd>
<dt class="dlterm">Quale versione del formato file <span class="ph filepath">docker-compose.yml</span> è supportata con
<span class="keyword">IBM
Bluemix Container Service</span>?</dt>
<dd><span class="keyword">IBM
Bluemix Container Service</span> supporta solo la versione 1
del formato file <span class="ph filepath">docker-compose.yml</span>. La versione 2 non è al momento supportata. </dd>
<dt class="dlterm">Come posso eseguire i comandi Docker Compose in modalità collegata?</dt>
<dd>Potresti avere un errore durante l'esecuzione del comando <samp class="ph codeph">docker-compose up</samp> nella
modalità collegata. Docker Compose supporta al momento solo di essere eseguito in modalità scollegata con <span class="keyword">IBM
Bluemix Container Service</span>. Utilizza l'opzione <samp class="ph codeph">-d</samp>
per evitare blocchi nell'output della console dei tuoi contenitori senza possibilità di scollegamento. </dd>
<dt class="dlterm">Come accedo ai log per ogni istanza del contenitore eseguita nella mia distribuzione con più contenitori?</dt>
<dd>Il comando <samp class="ph codeph">docker-compose logs</samp> non è al momento supportato con <span class="keyword">IBM
Bluemix Container Service</span>.</dd>
<dt class="dlterm">Quali opzioni del parametro sono supportate nel file <span class="ph filepath">docker-compose.yml</span>?</dt>
<dd>Per rivedere un elenco di opzioni del parametro supportate, consulta <a href="container_single_ui.html#container_compose_yml">Opzioni supportate nel file docker-compose.yml</a>.</dd>
</dl>
</div>
</div>
</article></article></article></div></main></body></html>